(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{442:function(e,t,n){e.exports=n(773)},773:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(116),c=n.n(o),l=n(17),s=n(18),i=n(20),u=n(19),d=n(21),m=n(22),h=n(776),p=n(14),f=n(36),v=n(26),b=n.n(v),E=n(39),k=n(407),g=n.n(k),I=n(408),y=n.n(I),O={VIRGIN:"virgin",LOADING:"loading",INITIALIZED:"initialized",HYDRATED_WHILE_LOADING:"hydrated_while_loading"},w="SET_BALANCE";var j="SET_BALANCE_STATE";var T="CREATE_BALANCE_ENTRY";function C(e,t,n){return{type:T,payload:{balanceId:e,addressId:t,tokenId:n}}}var A="DELETE_BALANCE_ENTRY";var S="CHANGE_BALANCE_FILTER_PROPS";function N(e){return function(t,n){var a=e.toLowerCase(),r=n().balance.positiveIds;a.length&&(r=r.filter(function(e){var t=n().balance.byId[e],r=n().tokens.byId[t.tokenId];return r.name.toLowerCase().includes(a)||r.symbol.toLowerCase().includes(a)||r.address.toLowerCase().includes(a)})),t({type:S,payload:{filter:a,matchedBalanceIds:r}})}}function B(e,t,n){return function(a,r){var o=_(e,t);void 0===r().balance.byId[o]&&a(C(o,e,t)),a(function(e,t){return{type:w,payload:{balanceId:e,balance:t}}}(o,n))}}function L(e,t,n){return function(a,r){var o=_(t,e);void 0===r().balance.byId[o]&&a(C(o,t,e)),a(function(e,t){return{type:j,payload:{balanceId:e,balanceState:t}}}(o,n))}}function P(e){return function(t,n){var a=n().balance.byId[e];t(je(a.tokenId,a.addressId))}}function R(e){return function(t,n){Object.values(n().balance.byId).filter(function(t){return t.tokenId===e}).forEach(function(e){var n;t((n=e.balanceId,{type:A,payload:{balanceId:n}}))})}}function _(e,t){return e+"-"+t}var x=n(34),D={};function F(e,t){return e.toLowerCase()+"-"+t}var G="ADD_EVENTS";var H="CHANGE_TRANSFEREVENTLIST_PAGE";var M="CREATE_ACE_ENTRY";function V(e,t){return{type:M,payload:{addressId:e,tokenId:t}}}var W="ACE_ENTRIES_LOADING_CHANGE";function q(e,t,n,a,r,o){var c=e.map(function(e){return F(e,t)});return{type:W,payload:{aceIds:c,isLoading:n,loadingFromBlock:a,loadingToBlock:r,loadingCurrentBlock:o}}}var Y="ACE_ENTRIES_BLOCK_RANGE_CHANGE";function z(e,t,n,a){var r=e.map(function(e){return F(e,t)});return{type:Y,payload:{aceIds:r,fromBlock:n,toBlock:a}}}var K="SET_ACE_ENTRY_EVENT_IDS";var U="CHANGE_EVENT_SCAN_PROPS";function Z(e,t,n,a,r,o){return function(){var c=Object(E.a)(b.a.mark(function c(l,s){return b.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:e.forEach(function(e){var n=F(e,t);void 0===s().events.aceById[n]&&l(V(e,t))}),l(q(e,t,n,a,r,o));case 2:case"end":return c.stop()}},c,this)}));return function(e,t){return c.apply(this,arguments)}}()}function J(e,t,n,a){return function(n,a){var r,o=[],c=a().addresses.allIds;e.forEach(function(e){var r=e.args,l=r._from,s=r._to;if(c.includes(l.toLowerCase())){var i=F(l,t);o.push(i),void 0===a().events.aceById[i]&&n(V(l,t))}if(c.includes(s.toLowerCase())){var u=F(s,t);o.push(u),void 0===a().events.aceById[u]&&n(V(s,t))}}),n(function(e,t){return{type:G,payload:{events:e,tokenId:t}}}(e,t)),n((r=o,function(e,t){var n=t().events.byId;r.forEach(function(a){var r=t().events.aceById[a].eventIds.slice().sort(function(e,t){return n[t].transferEvent.blockNumber-n[e].transferEvent.blockNumber});e(function(e,t){return{type:K,payload:{aceId:e,eventIds:t}}}(a,r))})}))}}function X(e){return e.transactionHash+"-"+e.logIndex}var Q={VIRGIN:"virgin",LOADING:"loading",INITIALIZED:"initialized"},$="IS_LOADING_TOKEN_LIST";function ee(e){return{type:$,payload:{listState:e}}}var te="ADD_TOKEN";function ne(e,t){return{type:te,payload:{tokenID:e,token:t}}}var ae="ADD_VOLATILE_TOKEN";var re="IS_LOADING_TOKEN";function oe(e,t){return{type:re,payload:{tokenID:e,isLoading:t}}}var ce="SET_TOKEN_SUPPLY";var le="IS_LOADING_SUPPLY";var se="SET_TOKEN_CONTRACT_INSTANCE";function ie(e,t){return{type:se,payload:{tokenID:e,contractInstance:t}}}var ue="SET_TOKEN_LOADING_PROMISE";var de="CHANGE_SELECTOR_TOKENID";function me(e){return{type:de,payload:{selectedTokenId:e}}}var he="CLEAR_TOKEN_LIST";function pe(){return{type:he}}var fe="CHANGE_VALID_TOKEN_COUNT";var ve="CHANGE_FILTER_PROPS";var be="RESET_DISPLAY_COUNT";var Ee="CHANGE_TOKEN_TRACKING";function ke(e,t){return{type:Ee,payload:{tokenId:e,doTrack:t}}}var ge="CHANGE_TOKENLIST_PAGE";function Ie(e){return{type:ge,payload:{activePage:e}}}function ye(e){return function(t,n){var a=e.filterString,r=e.showOnlyTracked,o=n().tokens.listState.filter.toLowerCase(),c=n().tokens.listState.showOnlyTracked;void 0===a&&(a=o),void 0===r&&(r=c);var l=a.toLowerCase(),s=l.length>0||r;(o!==l||c!==r)&&(t({type:be}),t(Ie(1)));var i=n().tokens.allIds;r&&(i=n().tokens.trackedIds),l.length&&(i=i.filter(function(e){var t=n().tokens.byId[e];return t.name.toLowerCase().includes(l)||t.symbol.toLowerCase().includes(l)||t.address.toLowerCase().includes(l)})),t(function(e,t,n,a){return{type:ve,payload:{filter:e,matchedTokenIds:t,showOnlyTracked:n,filterIsActive:a}}}(l,i,r,s))}}function Oe(e){return{id:e.address,address:e.address,symbol:e.symbol,decimals:Math.pow(10,e.decimals),name:e.name,description:null,website:e.website,imageUrl:null,supply:{loading:!1,supply:void 0},balance:void 0,eventIds:[],loading:!1}}function we(e){return function(t,n){var a=new Promise(function(){var a=Object(E.a)(b.a.mark(function a(r,o){var c,l,s,i;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t(oe(e,!0)),c=n().tokens.byId[e],l=n().web3Instance.web3,(s=g()({abi:y.a})).setProvider(l.currentProvider),a.next=7,s.at(c.address);case 7:i=a.sent,t(ie(e,i)),t(oe(e,!1)),r();case 11:case"end":return a.stop()}},a,this)}));return function(e,t){return a.apply(this,arguments)}}());t(function(e,t){return{type:ue,payload:{tokenID:e,loadingPromise:t}}}(e,a))}}function je(e,t){return Te([e],t)}function Te(e,t){return function(){var n=Object(E.a)(b.a.mark(function n(a,r){return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e.forEach(function(){var e=Object(E.a)(b.a.mark(function e(n){var o,c,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(L(n,t,O.LOADING)),e.next=3,Ce(n,a,r);case 3:return o=r().tokens.volatileById[n],c=r().addresses.byId[t].address,e.next=7,o.contractInstance.balanceOf(c);case 7:l=e.sent,a(B(t,n,l)),a(L(n,t,O.INITIALIZED));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}()}function Ce(e,t,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(E.a)(b.a.mark(function e(t,n,a){var r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=a().tokens.volatileById[t])&&(n({type:ae,payload:{tokenID:t}}),r=a().tokens.volatileById[t]),!r.loadingPromise){e.next=6;break}return e.abrupt("return",r.loadingPromise);case 6:return n(we(t)),r=a().tokens.volatileById[t],e.abrupt("return",r.loadingPromise);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Se={listState:Q.VIRGIN,total:0,filter:"",matchedTokenIds:[],displayCount:10,showOnlyTracked:!1,filterIsActive:!1,activePage:1};var Ne={};var Be=[];var Le={};function Pe(e,t){var n=t.payload.tokenID;return void 0===e[n]?Object(p.a)({},e,Object(x.a)({},n,{tokenID:n})):e}var Re=[];var _e=n(305),xe=n.n(_e),De=new Promise(function(e,t){window.addEventListener("load",Object(E.a)(b.a.mark(function n(){var a;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:window.ethereum?a=new xe.a(window.ethereum):window.web3&&(a=new xe.a(window.web3.currentProvider)),a?(console.log("Injected web3 detected."),e({web3:a})):t({error:"No web3 injected"});case 2:case"end":return n.stop()}},n,this)})))}),Fe=function(e){var t={db:[],eth:["accounts","blockNumber","coinbase","gasPrice","hashrate","mining","protocolVersion","syncing"],net:["listening","peerCount"],personal:["listAccounts"],shh:[],version:["ethereum","network","node","whisper"]};Object.keys(t).forEach(function(n){Object.keys(e[n]).forEach(function(a){t[n].indexOf(a)>-1||"function"===typeof e[n][a]&&(e[n][a+"Promise"]=function(){var t=arguments;return new Promise(function(r,o){t[t.length]=function(e,t){return function(n,a){n?t(n):e(a)}}(r,o),t.length++,e[n][a].apply(e[n],t)})})})})},Ge={UNINITIALIZED:"uninitialized",LOADING:"loading",INITIALIZED:"initialized",ERROR:"error"},He={REJECTED:"rejected",WAITING:"waiting",GRANTED:"granted"},Me="SET_WEB3_STATE";function Ve(e){return{type:Me,state:e}}var We="SET_ETH_ENABLE_STATE";function qe(e){return{type:We,ethEnableState:e}}var Ye="SET_WEB3INSTANCE";function ze(e){return{type:Ye,web3:e}}var Ke="SET_CURRENT_BLOCK";function Ue(e){return{type:Ke,block:e}}var Ze="SET_NETWORK";function Je(e,t,n){return{type:Ze,id:e,name:t,previousId:n}}var Xe="SET_NODE_VERSION";function Qe(e){return{type:Xe,nodeVersion:e}}var $e="SET_BLOCK_FILTER";function et(e){return{type:$e,blockFilter:e}}function tt(){return function(e,t){var n=t().web3Instance.blockFilter;n&&(n.stopWatching(function(e,t){e&&console.log("Error stopping blockfilter: "+e)}),e(et(null)))}}function nt(e){var t="unknown";switch(e){case 4447:t="truffle test";break;case 1:t="mainnet";break;case 2:t="Morden (deprecated!)";break;case 3:t="Ropsten";break;case 4:t="Rinkeby";break;case 42:t="Kovan";break;case 61:t="ETC";break;case 62:t="ETC Testnet";break;default:t="Unknown"}return t}var at={selctedTokenId:void 0};var rt=Object(f.c)({listState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return function(e,t){var n=t.payload.listState;return Object(p.a)({},e,{listState:n})}(e,t);case fe:return function(e,t){var n=t.payload.count;return Object(p.a)({},e,{total:n})}(e,t);case ve:return function(e,t){var n=t.payload,a=n.filter,r=n.matchedTokenIds,o=n.showOnlyTracked,c=n.filterIsActive;return Object(p.a)({},e,{filter:a,matchedTokenIds:r,showOnlyTracked:o,filterIsActive:c})}(e,t);case be:return function(e){return Object(p.a)({},e,{displayCount:Se.displayCount})}(e);case ge:return function(e,t){var n=t.payload.activePage;return Object(p.a)({},e,{activePage:n})}(e,t);case he:return function(e){return Object(p.a)({},e,{displayCount:Se.displayCount,matchedTokenIds:Se.matchedTokenIds,activePage:Se.activePage,total:Se.total,listState:Se.listState})}(e);default:return e}},byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return function(e,t){var n=t.payload,a=n.tokenID,r=n.token;return void 0===e[a]?Object(p.a)({},e,Object(x.a)({},a,r)):e}(e,t);case re:return function(e,t){var n=t.payload,a=n.tokenID,r=n.isLoading,o=e[a];return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},o,{loading:r})))}(e,t);case ce:return function(e,t){var n=t.payload,a=n.tokenID,r=n.supply,o=e[a];return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},o,{supply:Object(p.a)({},o.supply,{supply:r})})))}(e,t);case le:return function(e,t){var n=t.payload,a=n.tokenID,r=n.isLoading,o=e[a];return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},o,{supply:Object(p.a)({},o.supply,{loading:r})})))}(e,t);case he:return Ne;case G:return function(e,t){var n=t.payload,a=n.events,r=n.tokenId,o=e[r],c=o.eventIds;return a.forEach(function(e){var t=X(e);c.includes(t)?console.warn("Ignoring duplicate event "+t):c=c.concat(t)}),Object(p.a)({},e,Object(x.a)({},r,Object(p.a)({},o,{eventIds:c})))}(e,t);default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return function(e,t){var n=t.payload.tokenID;return-1===e.indexOf(n)?e.concat(n):e}(e,t);case he:return Be;default:return e}},trackedIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return function(e,t){var n=t.payload,a=n.tokenId,r=n.doTrack,o=e.indexOf(a);return r&&-1===o?e.concat(a):!r&&o>-1?e.filter(function(e){return e!==a}):e}(e,t);default:return e}},volatileById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:case ae:return Pe(e,t);case ue:return function(e,t){var n=t.payload,a=n.tokenID,r=n.loadingPromise,o=e[a];return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},o,{loadingPromise:r})))}(e,t);case se:return function(e,t){var n=t.payload,a=n.tokenID,r=n.contractInstance,o=e[a];return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},o,{contractInstance:r})))}(e,t);case he:return Le;default:return e}},selector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return function(e,t){var n=t.payload.selectedTokenId;return Object(p.a)({},e,{selectedTokenId:n})}(e,t);case Ze:return function(e,t){var n=t.id,a=t.previousId;return a&&a!==n?at:e}(e,t);default:return e}}});function ot(e,t){return Object.assign({},e,t)}var ct={web3:null,state:Ge.UNINITIALIZED,block:{number:0,timestamp:0},id:-1,name:"unknown",blockFilter:null,ethEnableState:He.REJECTED},lt=n(409),st="ADDRESS_TYPE_EXTERNAL",it="ADDRESS_TYPE_OWNED",ut={VIRGIN:"virgin",LOADING:"loading",INITIALIZED:"initialized",HYDRATED_WHILE_LOADING:"hydrated_while_loading"},dt="CHANGE_ADDRESS_BALANCES_STATE";var mt="ADD_ADDRESS";var ht="REMOVE_ADDRESS";var pt="CHANGE_ADDRESS_TYPE";function ft(e,t){return{type:pt,payload:{addressId:e,newType:t}}}function vt(e,t,n,a,r,o){for(var c=r().tokens.allIds,l=0,s=t;l<10&&s<c.length;){var i=c[s],u=_(n,i);void 0===r().balance.byId[u]&&a(je(i,n)),s++,l=performance.now()-e}s<c.length?(console.log("Batch update with index "+s),requestAnimationFrame(function(e){vt(e,s,n,a,r,o+1)})):a(function(e,t){return{type:dt,payload:{addressId:e,addressBalancesState:t}}}(n,ut.INITIALIZED))}function bt(e,t){return function(n,a){n(function(e,t){return e=e.toLowerCase(),{type:mt,payload:{addressId:e,address:e,type:t}}}(e,t));var r=a().tokens.trackedIds;r.length&&n(Te(r,e))}}var Et="CHANGE_SELECTOR_ADDRESSID";function kt(e){return{type:Et,payload:{selectedAddressId:e}}}var gt={};var It=[];var yt={selectedAddressId:""};var Ot=Object(f.c)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:return function(e,t){var n=t.payload,a=n.addressId,r=n.address,o=n.type;return Object.keys(e).indexOf(a)>-1?(console.warn("Ignoring duplicate address "+a),e):Object(p.a)({},e,Object(x.a)({},a,{address:r,type:o,balancesState:ut.VIRGIN,eventIds:[]}))}(e,t);case ht:return function(e,t){var n=t.payload.addressId,a=Object.assign({},e);return delete a[n],a}(e,t);case pt:return function(e,t){var n=t.payload,a=n.addressId,r=n.newType,o=e[a];return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},o,{type:r})))}(e,t);case dt:return function(e,t){var n=t.payload,a=n.addressBalancesState,r=n.addressId,o=e[r];return Object(p.a)({},e,Object(x.a)({},r,Object(p.a)({},o,{balancesState:a})))}(e,t)}return e},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:return function(e,t){var n=t.payload.addressId;return e.indexOf(n)>-1?(console.warn("Ignoring duplicate address "+n),e):e.concat(n)}(e,t);case ht:return function(e,t){var n=t.payload.addressId;return e.filter(function(e){return e!==n})}(e,t)}return e},selector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Et:return function(e,t){var n=t.payload.selectedAddressId;return Object(p.a)({},e,{selectedAddressId:n})}(e,t);default:return e}}}),wt=n(245),jt=n.n(wt),Tt={};var Ct=[];var At=[];var St={filter:"",matchedBalanceIds:[],displayCount:10};var Nt=Object(f.c)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return function(e,t){var n=t.payload,a=n.balanceId,r=n.addressId,o=n.tokenId;return Object(p.a)({},e,Object(x.a)({},a,{balanceId:a,addressId:r,tokenId:o,balance:new wt.BigNumber(0),balanceState:O.VIRGIN}))}(e,t);case w:return function(e,t){var n=t.payload,a=n.balanceId,r=n.balance,o=e[a];return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},o,{balance:r})))}(e,t);case j:return function(e,t){var n=t.payload,a=n.balanceId,r=n.balanceState,o=e[a];return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},o,{balanceState:r})))}(e,t);case A:return function(e,t){return delete e[t.payload.balanceId],e}(e,t);case he:return Tt;default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return function(e,t){var n=t.payload.balanceId;return e.indexOf(n)>-1?(console.warn("Ignoring duplicate balance "+n),e):e.concat(n)}(e,t);case A:return function(e,t){var n=t.payload.balanceId,a=e.indexOf(n);return a>-1?(e.splice(a,1),e):e}(e,t);case he:return Ct;default:return e}},positiveIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return function(e,t){var n=t.payload,a=n.balanceId,r=n.balance;return e.indexOf(a)>-1?r.isZero()?e.filter(function(e){return e!==a}):e:r.greaterThan(0)?e.concat(a):e}(e,t);case A:return function(e,t){var n=t.payload.balanceId,a=e.indexOf(n);return a>-1?(e.splice(a,1),e):e}(e,t);case he:return At;default:return e}},listState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return function(e,t){var n=t.payload,a=n.filter,r=n.matchedBalanceIds;return Object(p.a)({},e,{filter:a,matchedBalanceIds:r})}(e,t);case he:return St;default:return e}}}),Bt=n(410),Lt=n(192),Pt=n(306),Rt=n.n(Pt),_t={};var xt=[];var Dt={activePage:1,currentChunk:0,maxChunks:0};var Ft=Object(f.c)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return function(e,t){var n=t.payload,a=n.events,r=n.tokenId;return a.forEach(function(t){var n=X(t);Object.keys(e).includes(n)?console.warn("Ignoring duplicate event "+n):e=Object(p.a)({},e,Object(x.a)({},n,{transferEventId:n,tokenId:r,transferEvent:t}))}),e}(e,t);case he:return _t}return e},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return function(e,t){var n=t.payload.events,a=e;return n.forEach(function(t){var n=X(t);e.indexOf(n)>-1?console.warn("Ignoring duplicate event "+n):a=a.concat(n)}),a}(e,t);case he:return xt}return e},aceById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return function(e,t){var n=t.payload,a=n.addressId,r=n.tokenId,o=F(a,r);return Object(p.a)({},e,Object(x.a)({},o,{acesId:o,addressId:a,tokenId:r,isLoading:!1,firstBlock:0,lastBlock:0,eventIds:[],loadingFromBlock:0,loadingToBlock:0,loadingCurrentBlock:0}))}(e,t);case G:return function(e,t){var n=t.payload,a=n.events,r=n.tokenId,o=Object(p.a)({},e);return a.forEach(function(e){var t=X(e),n=e.args,a=n._from,c=n._to,l=F(a,r);[F(c,r),l].forEach(function(e){if(o[e]){if(o[e].eventIds.includes(t))return void console.warn("Ignoring duplicate event "+t);o[e].eventIds=o[e].eventIds.concat(t)}})}),o}(e,t);case W:return function(e,t){var n=t.payload,a=n.aceIds,r=n.isLoading,o=n.loadingFromBlock,c=n.loadingToBlock,l=n.loadingCurrentBlock,s=Object(p.a)({},e);return a.forEach(function(e){var t=s[e];t&&(s[e]=Object(p.a)({},t,{isLoading:r,loadingFromBlock:o,loadingToBlock:c,loadingCurrentBlock:l}))}),s}(e,t);case Y:return function(e,t){var n=t.payload,a=n.aceIds,r=n.fromBlock,o=n.toBlock,c=Object(p.a)({},e);return a.forEach(function(e){var t=c[e];t&&(0===t.firstBlock?t.firstBlock=r:t.firstBlock=Math.min(r,t.firstBlock),0===t.lastBlock?t.lastBlock=o:t.lastBlock=Math.max(o,t.lastBlock),c[e]=t)}),c}(e,t);case K:return function(e,t){var n=t.payload,a=n.aceId,r=n.eventIds;return Object(p.a)({},e,Object(x.a)({},a,Object(p.a)({},e[a],{eventIds:r})))}(e,t);case he:return D}return e},listState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return function(e,t){var n=t.payload.activePage;return Object(p.a)({},e,{activePage:n})}(e,t);case U:return function(e,t){var n=t.payload.props,a=n.currentChunk,r=n.maxChunks;return Object(p.a)({},e,{currentChunk:a,maxChunks:r})}(e,t);case Et:case de:case he:return function(e){return Object(p.a)({},e,{activePage:1})}(e);default:return e}}}),Gt="SHOW_MODAL";var Ht="HIDE_MODAL";var Mt={modalType:null,modalProps:{}};var Vt=Object(Lt.a)(function(e){return e},function(e){var t=Object(p.a)({},e);return Object.keys(t.byId).forEach(function(e){var n=t.byId[e],a=n.balancesState===O.LOADING?O.HYDRATED_WHILE_LOADING:n.balancesState;t.byId[e]=Object(p.a)({},n,{balancesState:a})}),t},{whitelist:["addresses"]}),Wt={key:"tokens",storage:Rt.a,transforms:[],whitelist:["trackedIds","selector"]},qt=Object(f.c)({web3Instance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return ot(e,{state:t.state});case We:return ot(e,{ethEnableState:t.ethEnableState});case Ye:return ot(e,{web3:t.web3});case Ke:return ot(e,{block:t.block});case Ze:return ot(e,{id:t.id,name:t.name});case Xe:return ot(e,{nodeVersion:t.nodeVersion});case $e:return ot(e,{blockFilter:t.blockFilter})}return e},tokens:Object(Lt.b)(Wt,rt),addresses:Ot,balance:Nt,events:Ft,modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gt:return function(e,t){var n=t.payload;return{modalType:n.modalType,modalProps:n.modalProps}}(0,t);case Ht:return Mt}return e}}),Yt={key:"root",storage:Rt.a,transforms:[Vt],blacklist:["web3Instance","tokens","balance","events","modal"]},zt=Object(Lt.b)(Yt,qt),Kt=Object(Bt.createLogger)({diff:!1}),Ut=n(396),Zt=n(411),Jt=n(332),Xt=n(391),Qt=function(e){var t=e.closeModal;return r.a.createElement(Jt.a,{open:!0,onClose:t},r.a.createElement(Jt.a.Header,null,"Select a Photo"),r.a.createElement(Jt.a.Content,null,r.a.createElement(Jt.a.Description,null,r.a.createElement(Xt.a,null,"Default Profile Image"),r.a.createElement("p",null,"We've found the following gravatar image associated with your e-mail address."),r.a.createElement("p",null,"Is it okay to use this photo?"))))};Qt.defaultProps={};var $t=Qt,en=n(45),tn=n(240),nn=n(54),an=n(398),rn=n(49),on=n(197),cn=function(e){var t=e.web3,n=e.onValidSubmit,a=e.onClose,o=e.fromAddress,c=e.tokenName,l=e.tokenSymbol,s=e.tokenBalance,i=e.etherBalance,u=e.gasCosts,d=r.a.createElement(rn.a,{color:"red",pointing:!0});return Object(en.addValidationRule)("isEthereumAddress",function(e,n){return t.isAddress(n)}),Object(en.addValidationRule)("isLessThanOrEqual",function(e,n,a){try{var r=t.toBigNumber(n),o=t.toBigNumber(a);return r.lessThanOrEqualTo(o)}catch(c){return!1}}),r.a.createElement(Jt.a,{open:!0,onClose:a,size:"small",closeIcon:!0},r.a.createElement(Jt.a.Header,null,"Transfer '",c,"' Tokens"),r.a.createElement(Jt.a.Content,null,r.a.createElement(on.Form,{noValidate:!0,onValidSubmit:n},r.a.createElement(tn.a,null,r.a.createElement(nn.a,{columns:2},r.a.createElement(nn.a.Row,null,r.a.createElement(nn.a.Column,{width:4},r.a.createElement("strong",null,"Account address:")),r.a.createElement(nn.a.Column,{width:5},o)),r.a.createElement(nn.a.Row,null,r.a.createElement(nn.a.Column,{width:4},r.a.createElement("strong",null,"Account balance:")),r.a.createElement(nn.a.Column,{width:5},r.a.createElement(an.a,null,r.a.createElement(an.a.Item,null,s.toFixed()," ",l),r.a.createElement(an.a.Item,null,i.toFixed()," ETH")))))),r.a.createElement(tn.a,null,r.a.createElement(Xt.a,{size:"small"},"To Address"),r.a.createElement(on.Form.Group,null,r.a.createElement(on.Input,{width:6,name:"toAddress",placeholder:"Receiving ethereum address",required:!0,instantValidation:!0,validations:"isEthereumAddress",validationErrors:{isEthereumAddress:"This is not a valid Ethereum address",isDefaultRequiredValue:"To Address is Required"},errorLabel:d})),r.a.createElement(Xt.a,{size:"small"},"Amount to send"),r.a.createElement(on.Form.Group,null,r.a.createElement(on.Input,{width:6,name:"amount",placeholder:"Enter amount",label:l,labelPosition:"right",required:!0,instantValidation:!0,validations:"isNumeric,isLessThanOrEqual:"+s.toFixed(),validationErrors:{isNumeric:"This is not a valid number",isDefaultRequiredValue:"Amount is Required",isLessThanOrEqual:"Maximum available balance is "+s.toFixed()},errorLabel:d}))),r.a.createElement(tn.a,null,r.a.createElement(Xt.a,{size:"small"},"Estimated Gas costs"),r.a.createElement(on.Form.Group,null,r.a.createElement(on.Input,{width:6,name:"gasCosts",label:"ETH",labelPosition:"right",readOnly:!0,value:u,validations:"isLessThanOrEqual:"+i.toFixed(),instantValidation:!0,validationErrors:{isLessThanOrEqual:"Not enough ether to cover gas costs"},errorLabel:d}))),r.a.createElement(on.Form.Group,null,r.a.createElement(on.Form.Button,{content:"Submit",color:"green"})))))};cn.defaultProps={};var ln=cn,sn=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).onValidSubmit=function(e){return alert(JSON.stringify(e))},a.state={amount:a.props.web3.toBigNumber("0"),toAddressValid:!1,amountValid:!1,rateValid:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fromAddress,n=e.tokenName,a=e.tokenSymbol,o=e.tokenBalance,c=this.props.web3.toBigNumber("0.0022"),l=this.props.web3.toBigNumber("12.3456");return r.a.createElement(ln,{onValidSubmit:this.onValidSubmit,onClose:this.props.closeModal,fromAddress:t,web3:this.props.web3,tokenName:n,tokenSymbol:a,tokenBalance:o,gasCosts:c,etherBalance:l})}}]),t}(a.Component);sn.defaultProps={};var un={TEST_MODAL:$t,TRANSFER_FORM_CONTAINER:Object(m.b)(function(e,t){var n=e.balance.byId[t.tokenBalanceId],a=e.addresses.byId[n.addressId].address,r=e.tokens.byId[n.tokenId],o=n.balance.dividedBy(r.decimals);return{web3:e.web3Instance.web3,fromAddress:a,tokenBalance:o,tokenName:r.name,tokenSymbol:r.symbol,tokenId:r.id}},function(e){return{transferToken:function(){e(function(){var e=Object(E.a)(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}())}}})(sn)},dn=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalType,n=e.modalProps,a=e.closeModal;if(!t)return null;var o=un[t];return r.a.createElement(o,Object.assign({closeModal:a},n))}}]),t}(a.Component),mn=Object(m.b)(function(e){return e.modal},function(e){return{closeModal:function(){e({type:Ht,payload:{}})}}})(dn),hn=n(394),pn=n(397),fn=n(770),vn=n(25),bn=n(395),En=n(195),kn=n(188),gn=n(399),In=function(e){var t=e.balance,n=e.numDecimals,a=r.a.createElement("span",null,t.toFixed(n));return r.a.createElement(gn.a,{trigger:a,content:t.toFixed(Math.max(n,t.dp()))})};In.defaultProps={numDecimals:3};var yn=In,On=function(e){var t=e.address,n=e.ensName;return n?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("strong",null,n)),r.a.createElement("div",null,r.a.createElement("small",null,t))):r.a.createElement("div",null,r.a.createElement("strong",null,t))},wn=function(e){var t=e.address,n=e.ensName,a=e.balance,o=e.loading,c=e.reloadBalance,l=e.url;return r.a.createElement(bn.a.Row,null,r.a.createElement(bn.a.Cell,null),r.a.createElement(bn.a.Cell,null,r.a.createElement(fn.a,{to:l},r.a.createElement(On,{address:t,ensName:n}))),r.a.createElement(bn.a.Cell,null,r.a.createElement(yn,{balance:a})),r.a.createElement(bn.a.Cell,null,r.a.createElement(En.a,{size:"mini",circular:!0,icon:"refresh",loading:o,onClick:c})))};wn.defaultProps={};var jn=wn,Tn=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(jn,{address:this.props.address,addressType:this.props.addressType,balance:this.props.balance,reloadBalance:this.props.reloadBalance,loading:this.props.loading,url:this.props.url,openTransferModal:this.props.openTransferModal,ensName:this.props.ensName})}}]),t}(a.Component);Tn.defaultProps={};var Cn=Object(m.b)(function(e,t){var n=e.balance.byId[t.tokenBalanceId],a=e.tokens.byId[n.tokenId],r=e.addresses.byId[n.addressId];return{balance:n.balance.dividedBy(a.decimals),address:r.address,addressType:r.type,ensName:r.ensName,loading:n.balanceState===O.LOADING,url:"/events/"+a.id+"/"+r.address}},function(e,t){return{reloadBalance:function(){e(P(t.tokenBalanceId))},openTransferModal:function(){var n,a;e((n="TRANSFER_FORM_CONTAINER",a={tokenBalanceId:t.tokenBalanceId},{type:Gt,payload:{modalType:n,modalProps:a}}))}}})(Tn),An=function(e){var t,n=e.expanded,a=e.tokenName,o=e.tokenSymbol,c=e.tokenBalances,l=e.total,s=e.reloadBalance,i=e.loading,u=e.tokenEventsLinkOptions,d=e.toggleCollapse,m=r.a.createElement(fn.a,{to:u},a," (",o,")"),h=n?"chevron up":"chevron down",p=r.a.createElement(bn.a.Header,null,r.a.createElement(bn.a.Row,null,r.a.createElement(bn.a.HeaderCell,{width:1},r.a.createElement(En.a,{onClick:d,circular:!0,icon:h,size:"large"})),r.a.createElement(bn.a.HeaderCell,{width:8},m),r.a.createElement(bn.a.HeaderCell,{width:5},r.a.createElement(kn.a,{size:"mini"},r.a.createElement(kn.a.Value,null,r.a.createElement(yn,{balance:l})))),r.a.createElement(bn.a.HeaderCell,{width:2},r.a.createElement(En.a,{circular:!0,icon:"refresh",onClick:s,loading:i}))));return t=n?r.a.createElement(bn.a.Body,null,c.map(function(e){return r.a.createElement(Cn,{key:e.balanceId,tokenBalanceId:e.balanceId})})):null,r.a.createElement(bn.a,{compact:!0},p,t)};An.defaultProps={};var Sn=An,Nn=n(283),Bn=n.n(Nn),Ln=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).reloadBalance=a.reloadBalance.bind(Object(vn.a)(Object(vn.a)(a))),a.toggleCollapse=a.toggleCollapse.bind(Object(vn.a)(Object(vn.a)(a))),a.state={expanded:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"reloadBalance",value:function(){var e=this;this.props.tokenBalances.forEach(function(t){e.props.reloadBalance(t.balanceId)})}},{key:"toggleCollapse",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){return r.a.createElement(Sn,{tokenName:this.props.token.name,tokenSymbol:this.props.token.symbol,tokenBalances:this.props.tokenBalances,total:this.props.total,reloadBalance:this.reloadBalance,loading:this.props.loading,tokenEventsLinkOptions:this.props.tokenEventsLinkOptions,expanded:this.state.expanded,toggleCollapse:this.toggleCollapse})}}]),t}(a.Component);Ln.defaultProps={};var Pn=Object(m.b)(function(e,t){var n=e.tokens.byId[t.tokenId],a=Bn.a.reduce(t.tokenBalances,function(e,t){return e.plus(t.balance)},new jt.a(0)).dividedBy(n.decimals),r=!1;t.tokenBalances.forEach(function(e){e.balanceState===O.LOADING&&(r=!0)});var o={pathname:"/events/"+t.tokenId};return{token:n,total:a,loading:r,tokenEventsLinkOptions:o}},function(e){return{reloadBalance:function(t){e(P(t))}}})(Ln),Rn=function(e){return r.a.createElement("div",null,Object.entries(e.balancesByToken).map(function(e){return r.a.createElement(Pn,{key:e[0],tokenId:e[0],tokenBalances:e[1]})}))};Rn.defaultProps={};var _n=Rn,xn=n(48),Dn=n(393),Fn=function(e){var t=e.filterString,n=e.handleChange,a=e.filterIsActive,o=e.clearFilter,c=null;return a&&(c=r.a.createElement(xn.a,{name:"eraser",circular:!0,link:!0,onClick:o})),r.a.createElement(Dn.a,{label:"Filter",name:"filter",placeholder:"Enter name, symbol or contract address",onChange:n,value:t,icon:c,fluid:!0})};Fn.defaultProps={};var Gn=Fn,Hn=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleChange=a.handleChange.bind(Object(vn.a)(Object(vn.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e,t){t.name;var n=t.value;this.props.setFilterString(n)}},{key:"render",value:function(){return r.a.createElement(Gn,{filterString:this.props.filterString,handleChange:this.handleChange,filterIsActive:this.props.filterIsActive,displayed:this.props.displayed,total:this.props.total,clearFilter:this.props.clearFilter})}}]),t}(a.Component),Mn=Object(m.b)(function(e,t){var n=t.target;return"tokenlist"===n?{total:e.tokens.allIds.length,displayed:e.tokens.listState.matchedTokenIds.length,filterIsActive:e.tokens.listState.filterIsActive,filterString:e.tokens.listState.filter,showOnlyTracked:e.tokens.listState.showOnlyTracked}:"balancelist"===n?{total:e.balance.positiveIds.length,displayed:e.balance.listState.matchedBalanceIds.length,filterIsActive:e.balance.listState.filter.length>0,filterString:e.balance.listState.filter}:{}},function(e,t){var n=t.target;return"tokenlist"===n?{clearFilter:function(){e(ye({filterString:""}))},setFilterString:function(t){e(ye({filterString:t}))}}:"balancelist"===n?{clearFilter:function(){e(N(""))},setFilterString:function(t){e(N(t))}}:void 0})(Hn),Vn=function(e){var t=e.title;return r.a.createElement(Xt.a,{as:"h1",block:!0,inverted:!0,color:"green",textAlign:"center",style:{marginTop:0}},t)};Vn.defaultProps={};var Wn=Vn,qn=function(e){var t,n=e.hasAccounts,a=e.balancesByToken;return t=n?Object.keys(a).length?r.a.createElement(_n,{balancesByToken:a}):r.a.createElement(hn.a,null,r.a.createElement(hn.a.Header,null,"No balances"),r.a.createElement(hn.a.Content,null,"There are no token balances to display. Things you can try:"),r.a.createElement(hn.a.List,null,r.a.createElement(hn.a.Item,null,"Change the filterstring"),r.a.createElement(hn.a.Item,null,"Open the ",r.a.createElement(fn.a,{to:{pathname:"/accounts/"}},"Account Manager")," to add additional accounts"),r.a.createElement(hn.a.Item,null,"Open the ",r.a.createElement(fn.a,{to:{pathname:"/tokenContracts/"}},"Token Manager")," to tracked additional tokens"))):r.a.createElement(hn.a,null,r.a.createElement(hn.a.Header,null,"No accounts"),r.a.createElement("p",null,"You have no watched or unlocked accounts. Open the ",r.a.createElement(fn.a,{to:{pathname:"/accounts/"}},"Account Manager")," to setup accounts.")),r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn,{title:"Overview"}),n&&r.a.createElement(Mn,{target:"balancelist"}),r.a.createElement(pn.a,null),t)};qn.defaultProps={};var Yn=qn,zn=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.hasAccounts,n=e.balancesByToken;return r.a.createElement(Yn,{hasAccounts:t,balancesByToken:n})}}]),t}(a.Component);zn.defaultProps={};var Kn=Object(m.b)(function(e){var t=e.addresses.allIds.length>0,n=(e.balance.listState.filter.length>0?e.balance.listState.matchedBalanceIds:e.balance.positiveIds).map(function(t){return e.balance.byId[t]});return{hasAccounts:t,balancesByToken:Object(Nn.groupBy)(n,"tokenId")}})(zn),Un=function(e){var t=e.name,n=e.id,a=e.nodeVersion,o=e.block,c="https://github.com/TripleSpeeder/TokenStation",l="https://github.com/ethereum-lists/tokens";return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Network: ",t," (",n,") | Block: ",o?o.number:"?"," | Node version: ",a),r.a.createElement("p",null,"ERC20 contract data origin: ",r.a.createElement("strong",null,r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},l))),r.a.createElement("p",null,"GitHub: ",r.a.createElement("strong",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c},c))," | contact: ",r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:michael@m-bauer.org"},"michael@m-bauer.org"))))},Zn=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).filter=null,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.web3.version.api;return r.a.createElement(tn.a,{textAlign:"center"},r.a.createElement(Un,{apiVersion:e,name:this.props.name,block:this.props.block,id:this.props.id,nodeVersion:this.props.nodeVersion}))}}]),t}(a.Component),Jn=Object(m.b)(function(e){return{web3:e.web3Instance.web3,name:e.web3Instance.name,id:e.web3Instance.id,block:e.web3Instance.block,nodeVersion:e.web3Instance.nodeVersion}})(Zn),Xn=n(777),Qn=n(774),$n=n(212),ea=n(775),ta=function(){return r.a.createElement($n.a,{icon:"labeled",fluid:!0,inverted:!0,vertical:!0,pointing:!0,size:"large"},r.a.createElement($n.a.Item,{header:!0},"TokenStation.io"),r.a.createElement($n.a.Item,{as:ea.a,to:"/overview",name:"overview"},r.a.createElement(xn.a,{name:"home"}),"Overview"),r.a.createElement($n.a.Item,{as:ea.a,to:"/accounts",name:"accounts"},r.a.createElement(xn.a,{name:"users"}),"Manage Accounts"),r.a.createElement($n.a.Item,{as:ea.a,to:"/events",name:"events"},r.a.createElement(xn.a,{name:"exchange"}),"View Transfer Events"),r.a.createElement($n.a.Item,{as:ea.a,to:"/tokenContracts",name:"tokenContracts"},r.a.createElement(xn.a,{name:"cube"}),"Manage Contracts"))},na=function(e){var t,n,a,o=e.address,c=e.addressType,l=e.ensName,s=e.handleRemove;c===it?(t="unlock",n="This is one of your addresses",a=null):(t="eye",n="This is a watch-only address",a=r.a.createElement(En.a,{size:"tiny",onClick:s,icon:"delete"}));var i=r.a.createElement(gn.a,{trigger:r.a.createElement(xn.a,{size:"large",name:t}),content:n});return r.a.createElement(bn.a.Row,null,r.a.createElement(bn.a.Cell,{textAlign:"left",collapsing:!0},i),r.a.createElement(bn.a.Cell,{textAlign:"left"},r.a.createElement(On,{address:o,ensName:l})),r.a.createElement(bn.a.Cell,{textAlign:"right",collapsing:!0},a))};na.defaultProps={};var aa=na,ra=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleRemove=function(){a.props.removeAddress(a.props.addressId)},a.state={resumedAfterRehydrate:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.checkResumeLoading(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.checkResumeLoading(e)}},{key:"checkResumeLoading",value:function(e){e.balancesState!==ut.HYDRATED_WHILE_LOADING||this.state.resumedAfterRehydrate||(this.setState({resumedAfterRehydrate:!0}),console.log("Continue loading balances for "+e.address),e.resumeGetBalances(e.addressId,e.progressCurrent))}},{key:"render",value:function(){return r.a.createElement(aa,{address:this.props.address,addressType:this.props.addressType,ensName:this.props.ensName,handleRemove:this.handleRemove})}}]),t}(a.PureComponent);ra.defaultProps={};var oa=Object(m.b)(function(e,t){var n=e.addresses.byId[t.addressId],a=e.tokens.listState.total,r=Object.values(e.balance.byId).filter(function(e){return e.addressId===t.addressId&&e.balanceState===O.INITIALIZED}).length;return{address:n.address,addressType:n.type,ensName:n.ensName,balancesState:n.balancesState,progressTotal:a,progressCurrent:r}},function(e){return{removeAddress:function(t){e(function(e){return{type:ht,payload:{addressId:e}}}(t))},resumeGetBalances:function(t,n){e(function(e,t){return function(n,a){vt(performance.now(),t,e,n,a,0)}}(t,n))}}})(ra),ca=n(387),la=function(e){var t=e.handleChange,n=e.handleSubmit,a=e.valid,o=e.address;return r.a.createElement(ca.a,{onSubmit:n},r.a.createElement(ca.a.Group,{inline:!0},r.a.createElement(ca.a.Input,{width:10,name:"address",placeholder:"Address",error:!a,onChange:t,value:o,label:"Add account"}),r.a.createElement(ca.a.Button,{content:"Submit",disabled:!a,width:6})))};la.defaultProps={};var sa=la,ia=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleSubmit=function(){var e=a.state.address;a.props.addNewAddress(e,st),a.setState({valid:!1,address:""})},a.state={valid:!1,address:""},a.handleChange=a.handleChange.bind(Object(vn.a)(Object(vn.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value,n=/^(0x)?[0-9a-f]{40}$/i.test(t);this.setState({valid:n,address:t})}},{key:"render",value:function(){return r.a.createElement(sa,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,valid:this.state.valid,address:this.state.address})}}]),t}(a.Component),ua=Object(m.b)(null,function(e){return{addNewAddress:function(t,n){e(bt(t,n))}}})(ia),da=function(e){var t,n,a=e.ethEnableState,o=e.ethEnable,c=a===He.WAITING;return t=e.ownAddressIds.length?r.a.createElement(bn.a,{basic:"very",selectable:!0},r.a.createElement(bn.a.Body,null,e.ownAddressIds.map(function(e){return r.a.createElement(oa,{key:e,addressId:e})}))):a===He.GRANTED?r.a.createElement(hn.a,null,r.a.createElement(hn.a.Header,null,"No personal accounts"),r.a.createElement("p",null,"You need to share your accounts so they are visible here. Log in to Metamask or share accounts in Mist .")):r.a.createElement(hn.a,null,r.a.createElement(hn.a.Header,null,"No access to personal accounts"),r.a.createElement("p",null,"You can grant access to your personal accounts. This will automatically put the accounts to the watch list."),r.a.createElement("p",null,r.a.createElement(En.a,{primary:!0,disabled:c,loading:c,onClick:o},"Grant access"))),n=e.watchAddressIds.length?r.a.createElement(bn.a,{basic:"very",selectable:!0},r.a.createElement(bn.a.Body,null,e.watchAddressIds.map(function(e){return r.a.createElement(oa,{key:e,addressId:e})}))):r.a.createElement(hn.a,null,r.a.createElement(hn.a.Header,null,"No watched accounts"),r.a.createElement("p",null,"You don't have any watched accounts.")),r.a.createElement(r.a.Fragment,null,r.a.createElement(tn.a,null,r.a.createElement(Xt.a,{dividing:!0,as:"h2"},"Personal Accounts"),t),r.a.createElement(tn.a,null,r.a.createElement(Xt.a,{dividing:!0,as:"h2"},"Watched Accounts"),n,r.a.createElement(pn.a,null),r.a.createElement(ua,null)))},ma=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).updateWeb3Accounts=a.updateWeb3Accounts.bind(Object(vn.a)(Object(vn.a)(a))),a.requestEthEnable=a.requestEthEnable.bind(Object(vn.a)(Object(vn.a)(a))),a.checkAccountTimer=0,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.web3Instance?this.props.web3Instance.ethEnableState:He.REJECTED;return r.a.createElement(da,{watchAddressIds:this.props.watchAddressIds,ownAddressIds:this.props.ownAddressIds,ethEnableState:e,ethEnable:this.requestEthEnable})}},{key:"componentDidMount",value:function(){this.initAccounts()}},{key:"componentWillReceiveProps",value:function(e){e.web3&&e.web3!==this.props.web3&&this.initAccounts(e.web3)}},{key:"componentWillUnmount",value:function(){this.checkAccountTimer&&(clearInterval(this.checkAccountTimer),this.checkAccountTimer=0)}},{key:"initAccounts",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.web3)&&(this.checkAccountTimer&&(clearInterval(this.checkAccountTimer),this.checkAccountTimer=0),this.updateWeb3Accounts(this.props.web3),!0===this.props.web3.currentProvider.isMetaMask&&(console.log("Metamask detected. Watching for account changes"),this.checkAccountTimer=setInterval(this.updateWeb3Accounts,100)))}},{key:"updateWeb3Accounts",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.web3).eth.getAccounts(function(t,n){n&&e.props.changeOwnAddresses(n)})}},{key:"requestEthEnable",value:function(){this.props.ethEnable()}}]),t}(a.Component);ma.defaultProps={};var ha=Object(m.b)(function(e){return{ownAddressIds:e.addresses.allIds.filter(function(t){return e.addresses.byId[t].type===it}),watchAddressIds:e.addresses.allIds.filter(function(t){return e.addresses.byId[t].type===st}),web3Instance:e.web3Instance?e.web3Instance:null,web3:e.web3Instance?e.web3Instance.web3:null}},function(e){return{changeOwnAddresses:function(t){e(function(e){return function(t,n){var a=n().addresses.byId,r=e.filter(function(e){var n=Object.values(a).filter(function(t){return t.address===e});return!(n.length>0)||(n[0].type!==it&&(console.log("Changing address "+n[0].address+" type to Owned!"),t(ft(n[0].address,it))),!1)});Object.values(a).filter(function(t){return t.type===it&&-1===e.indexOf(t.address)}).forEach(function(e){t(ft(e.address,st))}),r.forEach(function(e){t(bt(e,it))})}}(t))},ethEnable:function(){e(function(){var e=Object(E.a)(b.a.mark(function e(t,n){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=13;break}return e.prev=1,t(qe(He.WAITING)),e.next=5,window.ethereum.enable();case 5:t(qe(He.GRANTED)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(qe(He.REJECTED));case 11:e.next=14;break;case 13:t(qe(He.GRANTED));case 14:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t,n){return e.apply(this,arguments)}}())}}})(ma),pa=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn,{title:"Manage Accounts"}),r.a.createElement(ha,null))},fa=n(403),va=n(295),ba=n(299),Ea=function(e){var t=e.address,n=e.ensName,a=e.name,o=e.symbol,c=e.checked,l=e.onChange;return r.a.createElement(bn.a.Row,null,r.a.createElement(bn.a.Cell,{collapsing:!0},r.a.createElement(ca.a.Checkbox,{checked:c,onChange:l})),r.a.createElement(bn.a.Cell,null,r.a.createElement("strong",null,a)),r.a.createElement(bn.a.Cell,null,r.a.createElement("strong",null,o)),r.a.createElement(bn.a.Cell,null,r.a.createElement(On,{address:t,ensName:n})))},ka=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleChange=a.handleChange.bind(Object(vn.a)(Object(vn.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e,t){var n=t.checked;this.props.onChange(this.props.tokenId,n)}},{key:"render",value:function(){return r.a.createElement(Ea,{id:this.props.tokenId,address:this.props.tokenAddress,name:this.props.tokenName,symbol:this.props.tokenSymbol,onChange:this.handleChange,checked:this.props.tokenTracked})}}]),t}(a.Component);ka.defaultProps={};var ga=Object(m.b)(function(e,t){var n=e.tokens.byId[t.tokenId],a=e.tokens.trackedIds.indexOf(t.tokenId)>-1;return{tokenAddress:n.address,tokenName:n.name,tokenSymbol:n.symbol,tokenTracked:a}},function(e){return{onChange:function(t,n){e(function(e,t){return function(n,a){n(ke(e,t)),t?a().addresses.allIds.forEach(function(t){n(je(e,t))}):n(R(e))}}(t,n))}}})(ka),Ia=function(e){var t=e.tokenList;return t.length?r.a.createElement(bn.a,{celled:!0},r.a.createElement(bn.a.Body,null,t.map(function(e){return r.a.createElement(ga,{key:e,tokenId:e})}))):r.a.createElement(hn.a,{negative:!0},r.a.createElement(hn.a.Header,null,"No token contracts to display."),r.a.createElement(hn.a.Content,null,"Things you can try:"),r.a.createElement(hn.a.List,{items:["change/clear the filterstring","check if you are connected to the correct network"]}))},ya=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleShowOnlyTrackedChange=a.handleShowOnlyTrackedChange.bind(Object(vn.a)(Object(vn.a)(a))),a.handlePaginationChange=a.handlePaginationChange.bind(Object(vn.a)(Object(vn.a)(a))),a.handleLoadTokens=a.handleLoadTokens.bind(Object(vn.a)(Object(vn.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleShowOnlyTrackedChange",value:function(e,t){var n=t.checked;this.props.setShowTracked(n)}},{key:"handlePaginationChange",value:function(e,t){var n=t.activePage;this.props.setTokenListPage(n)}},{key:"handleLoadTokens",value:function(){this.props.clearTokenList()}},{key:"render",value:function(){var e=null;return this.props.totalPages>1&&(e=r.a.createElement(Ut.a,{textAlign:"center"},r.a.createElement(fa.a,{activePage:this.props.activePage,onPageChange:this.handlePaginationChange,totalPages:this.props.totalPages}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(nn.a,{verticalAlign:"middle",columns:2,divided:!0},r.a.createElement(nn.a.Row,null,r.a.createElement(nn.a.Column,{width:6},r.a.createElement(va.a,{toggle:!0,label:"Only show tracked token",checked:this.props.showOnlyTracked,onChange:this.handleShowOnlyTrackedChange})),r.a.createElement(nn.a.Column,{width:9},r.a.createElement(Mn,{target:"tokenlist"})),r.a.createElement(nn.a.Column,{width:1},r.a.createElement(ba.a,{icon:"setting"},r.a.createElement(ba.a.Menu,null,r.a.createElement(ba.a.Item,{text:"Reload token list",onClick:this.handleLoadTokens})))))),r.a.createElement(pn.a,null),r.a.createElement(Ia,{tokenList:this.props.tokenIds}),e)}}]),t}(a.Component),Oa=Object(m.b)(function(e){var t=e.tokens.listState.listState,n=1,a=e.tokens.listState.activePage,r=e.tokens.listState.filterIsActive?e.tokens.listState.matchedTokenIds:e.tokens.allIds,o=e.tokens.listState.showOnlyTracked,c=r.length;c&&(n=Math.ceil(c/20));var l=20*(a-1);return{tokenIds:r=r.slice(l,l+20),showOnlyTracked:o,activePage:a,totalPages:n,listState:t}},function(e){return{setShowTracked:function(t){e(ye({showOnlyTracked:t}))},setTokenListPage:function(t){e(Ie(t))},clearTokenList:function(){e(pe())}}})(ya),wa=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn,{title:"Manage Token Contracts"}),r.a.createElement(hn.a,{info:!0,icon:!0},r.a.createElement(xn.a,{name:"info"}),r.a.createElement(hn.a.Header,null,"Select which tokens to track"),r.a.createElement(hn.a.Content,null,"In the list below, check the tokens you want to keep track of. Use the filter to quickly find specific tokens. You can filter by token name, symbol or contract address.")),r.a.createElement(Oa,null))},ja=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tokenOptions,n=e.selectedTokenId,a=e.onTokenSelect,o=e.addressOptions,c=e.selectedAddressId,l=e.onAddressSelect;return r.a.createElement(Ut.a,null,r.a.createElement(nn.a,null,r.a.createElement(nn.a.Row,null,r.a.createElement(nn.a.Column,{width:8},r.a.createElement(ca.a,null,r.a.createElement(ca.a.Field,{inline:!0},r.a.createElement("label",null,"Show Transfers of token:"),r.a.createElement(ba.a,{fluid:!0,search:!0,selection:!0,options:t,onChange:a,value:n})))),r.a.createElement(nn.a.Column,{width:8},r.a.createElement(ca.a,null,r.a.createElement(ca.a.Field,{inline:!0},r.a.createElement("label",null,"To/From Account:"),r.a.createElement(ba.a,{fluid:!0,search:!0,selection:!0,options:o,onChange:l,value:c})))))))}}]),t}(a.Component);ja.defaultProps={};var Ta=Object(m.b)(function(e){var t=e.tokens.selector.selectedTokenId,n=e.tokens.trackedIds.map(function(t){return{key:t,value:t,text:e.tokens.byId[t].name+" ("+e.tokens.byId[t].symbol+")"}});n.sort(function(e,t){return e.text>t.text});var a=e.addresses.selector.selectedAddressId,r=e.addresses.allIds.map(function(e){return{key:e,value:e,text:e}});return r.sort(function(e,t){return e.key>t.key}),{tokenOptions:n,selectedTokenId:t,addressOptions:r,selectedAddressId:a}},function(e){return{onTokenSelect:function(t,n){var a=n.value;e(me(a))},onAddressSelect:function(t,n){var a=n.value;e(kt(a))}}})(ja),Ca=function(e){var t=e.loading,n=e.loadingFromBlock,a=e.loadingToBlock,o=e.resultCount,c=e.resultFromBlock,l=e.currentChunk,s=e.maxChunks,i=e.resultToBlock,u=e.onLoadMore,d=e.canLoadMore,m=r.a.createElement(En.a,{icon:!0,disabled:!d,onClick:u,labelPosition:"left"},r.a.createElement(xn.a,{name:"search"}),"Load more");return t&&(m=r.a.createElement(hn.a,{warning:!0,icon:!0},r.a.createElement(xn.a,{loading:!0,name:"circle notched"}),r.a.createElement(hn.a.Content,null,r.a.createElement(hn.a.Header,null,"Loading events"),"Scanning ",n," - ",a," - Chunk ",l,"/",s))),r.a.createElement(nn.a,{verticalAlign:"middle",columns:2},r.a.createElement(nn.a.Row,null,r.a.createElement(nn.a.Column,null,r.a.createElement(hn.a,{info:!0,icon:!0},r.a.createElement(xn.a,{name:"exchange"}),r.a.createElement(hn.a.Content,null,r.a.createElement(hn.a.Header,null,"Showing ",o," transfer events"),"Block ",c," to ",i))),r.a.createElement(nn.a.Column,null,m)))};Ca.defaultProps={};var Aa=Ca,Sa=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).loadMoreEvents=a.loadMoreEvents.bind(Object(vn.a)(Object(vn.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){t.checkEventsLoaded(this.props)}},{key:"componentWillReceiveProps",value:function(e){t.checkEventsLoaded(e)}},{key:"loadMoreEvents",value:function(){var e=this.props.resultFromBlock?this.props.resultFromBlock:this.props.currentBlock,t=e-1e4;console.log("Loading events "+t+"-"+e),this.props.loadTokenTransferEvents(t,e,this.props.tokenId,this.props.addressId)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.resultCount,a=e.resultFromBlock,o=e.resultFromBlockDate,c=e.resultToBlock,l=e.canLoadMore,s=e.loadingFromBlock,i=e.loadingToBlock,u=e.loadingCurrentBlock,d=e.currentChunk,m=e.maxChunks;return r.a.createElement(Aa,{loading:t,resultCount:n,resultFromBlock:a,resultFromBlockDate:o,resultToBlock:c,onLoadMore:this.loadMoreEvents,loadingFromBlock:s,loadingToBlock:i,loadingCurrentBlock:u,currentChunk:d,maxChunks:m,canLoadMore:l})}}],[{key:"checkEventsLoaded",value:function(e){e.currentBlock&&e.aceId&&!1===e.hasAceEntry&&(console.log("Loading events "),e.loadTokenTransferEvents(0,0,e.tokenId,e.addressId))}}]),t}(a.Component);Sa.defaultProps={};var Na=Object(m.b)(function(e){var t=0,n=!1,a=0,r=0,o=void 0,c=void 0,l=0,s=0,i=0,u=e.tokens.selector.selectedTokenId;-1!==e.tokens.allIds.indexOf(u)&&-1!==e.tokens.trackedIds.indexOf(u)||(u=void 0);var d=e.addresses.selector.selectedAddressId,m=e.web3Instance.block.number,h=e.events.listState.currentChunk,p=e.events.listState.maxChunks,f=Boolean(u&&d);return u&&d&&(o=F(d,u),(c=e.events.aceById[o])&&(a=c.firstBlock,r=c.lastBlock,t=c.eventIds.length,n=c.isLoading,l=c.loadingFromBlock,s=c.loadingToBlock,i=c.loadingCurrentBlock)),{loading:n,resultCount:t,resultFromBlock:a,resultFromBlockDate:"XXX",resultToBlock:r,currentBlock:m,tokenId:u,addressId:d,aceId:o,hasAceEntry:Boolean(c),loadingToBlock:s,loadingFromBlock:l,loadingCurrentBlock:i,currentChunk:h,maxChunks:p,canLoadMore:f}},function(e){return{loadTokenTransferEvents:function(t,n,a,r){var o,c,l,s;e((o=a,c=t,l=n,s=[r],function(){var e=Object(E.a)(b.a.mark(function e(t,n){var a,r,i,u,d,m,h;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=100,r=100,i=50,u=1,d=0,0===c&&(c=n().web3Instance.block.number-a*r),0===l&&(l=n().web3Instance.block.number),t(Z(s,o,!0,c,l,c)),e.next=10,Ce(o,t,n);case 10:m=n().tokens.volatileById[o].contractInstance,h=b.a.mark(function e(){var n,h,p,f,v,E,k;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h=(n=c+(u-1)*a)+a,t({type:U,payload:{props:{tokenID:o,addresses:s,numEvents:d,currentChunk:u,maxEvents:i,maxChunks:r,fromBlock:c,toBlock:l,state:"scanning"}}}),p=m.Transfer({_from:s,_to:null},{fromBlock:n,toBlock:h}),f=m.Transfer({_from:null,_to:s},{fromBlock:n,toBlock:h}),(v=[]).push(new Promise(function(e,n){p.get(function(a,r){a?(console.error("Error getting events for token "+o+": "+a),n("Error getting events for token "+o+": "+a)):(r.length&&t(J(r,o)),e(r.length))})})),v.push(new Promise(function(e,n){f.get(function(a,r){a?(console.error("Error getting events for token "+o+": "+a),n("Error getting events for token "+o+": "+a)):(r.length&&t(J(r,o)),e(r.length))})})),e.next=10,Promise.all(v);case 10:E=e.sent,k=E.reduce(function(e,t){return e+t},0),t(z(s,o,n,h)),u++,d+=k;case 15:case"end":return e.stop()}},e,this)});case 12:if(!(u<=r&&d<=i)){e.next=16;break}return e.delegateYield(h(),"t0",14);case 14:e.next=12;break;case 16:t(q(s,o,!1,0,0,0));case 17:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()))}}})(Sa),Ba=function(e){var t=e.txHash,n=t.slice(0,10).concat("..."),a=r.a.createElement("span",null,n);return r.a.createElement(gn.a,{trigger:a,content:t})},La="neutral",Pa="postivie",Ra="negative",_a=function(e){var t=e.txHash,n=e.blockNumber,a=e.from,o=e.fromENS,c=e.to,l=e.toENS,s=e.type,i=e.quantity.toFixed(6),u=null,d=!1,m=!1;switch(s){case Pa:u=r.a.createElement(xn.a,{name:"plus",color:"green",circular:!0}),d=!0;break;case Ra:u=r.a.createElement(xn.a,{name:"minus",color:"red",circular:!0}),m=!0}return r.a.createElement(r.a.Fragment,null,r.a.createElement(bn.a.Row,null,r.a.createElement(bn.a.Cell,{textAlign:"right"},"#: "),r.a.createElement(bn.a.Cell,null,r.a.createElement("strong",null,n)),r.a.createElement(bn.a.Cell,{textAlign:"right"},"From: "),r.a.createElement(bn.a.Cell,null,r.a.createElement(On,{address:a,ensName:o})),r.a.createElement(bn.a.Cell,{rowSpan:"2",textAlign:"right"},u),r.a.createElement(bn.a.Cell,{rowSpan:"2",positive:d,negative:m,textAlign:"right"},i)),r.a.createElement(bn.a.Row,null,r.a.createElement(bn.a.Cell,{textAlign:"right"},"Tx: "),r.a.createElement(bn.a.Cell,null,r.a.createElement("strong",null,r.a.createElement(Ba,{txHash:t}))),r.a.createElement(bn.a.Cell,{textAlign:"right"},"To: "),r.a.createElement(bn.a.Cell,null,r.a.createElement(On,{address:c,ensName:l}))))};_a.defaultProps={};var xa=_a,Da=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.txHash,n=e.blockNumber,a=e.from,o=e.to,c=e.type,l=e.quantity,s=e.positive,i=e.negative;return r.a.createElement(xa,{blockNumber:n,from:a,to:o,quantity:l,txHash:t,type:c,positive:s,negative:i})}}]),t}(a.PureComponent);Da.defaultProps={};var Fa=Object(m.b)(function(e,t){var n=e.events.byId[t.transferEventId],a=e.addresses.selector.selectedAddressId,r=n.transferEvent,o=e.tokens.byId[n.tokenId],c=r.args._value.dividedBy(o.decimals),l=r.args._from,s=r.args._to,i=La;return a&&(i=a.toLowerCase()===l?Ra:Pa),{txHash:r.transactionHash,blockNumber:r.blockNumber,from:l,to:s,type:i,quantity:c}})(Da),Ga=function(e){return r.a.createElement(bn.a,{compact:!0},r.a.createElement(bn.a.Header,null,r.a.createElement(bn.a.Row,null,r.a.createElement(bn.a.HeaderCell,{colSpan:"2",textAlign:"center"},"Block#/TransactionHash"),r.a.createElement(bn.a.HeaderCell,{colSpan:"2",textAlign:"center"},"From/To"),r.a.createElement(bn.a.HeaderCell,{colSpan:"2",textAlign:"right"},"Quantity"))),r.a.createElement(bn.a.Body,null,e.transferEventIds.map(function(e){return r.a.createElement(Fa,{key:e,transferEventId:e})})))};Ga.defaultProps={};var Ha=Ga,Ma=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handlePaginationChange=a.handlePaginationChange.bind(Object(vn.a)(Object(vn.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handlePaginationChange",value:function(e,t){var n=t.activePage;this.props.setTransferEventListPage(n)}},{key:"render",value:function(){var e=this.props,t=e.aceEventIds,n=e.totalPages,a=e.activePage,o=null;return n>1&&(o=r.a.createElement(Ut.a,{textAlign:"center"},r.a.createElement(fa.a,{activePage:a,onPageChange:this.handlePaginationChange,totalPages:n}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ha,{transferEventIds:t}),o)}}]),t}(a.Component);Ma.defaultProps={};var Va=Object(m.b)(function(e){var t=e.tokens.selector.selectedTokenId,n=e.addresses.selector.selectedAddressId,a=e.events.listState.activePage,r=1,o=void 0,c=[];if(t&&n){var l=F(n,t);o=e.events.aceById[l]}if(o){c=o.eventIds,r=Math.ceil(c.length/15);var s=15*(a-1);c=c.slice(s,s+15)}return{aceEventIds:c,activePage:a,totalPages:r}},function(e){return{setTransferEventListPage:function(t){e(function(e){return{type:H,payload:{activePage:e}}}(t))}}})(Ma),Wa=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn,{title:"Transfer Events"}),r.a.createElement(Ta,null),r.a.createElement(Na,null),r.a.createElement(Va,null))},qa=function(e){function t(e,n){var a;return Object(l.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e,n)),t.mapRouteParamsToState(e),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){t.mapRouteParamsToState(e)}},{key:"render",value:function(){return r.a.createElement(Wa,null)}}],[{key:"mapRouteParamsToState",value:function(e){e.match.params.tokenId&&(e.setSelectedToken(e.match.params.tokenId),e.match.params.address?e.setSelectedAddress(e.match.params.address):e.setSelectedAddress(void 0))}}]),t}(a.Component);qa.defaultProps={};var Ya=Object(m.b)(function(e){return{}},function(e){return{setSelectedToken:function(t){e(me(t))},setSelectedAddress:function(t){e(kt(t))}}})(qa),za=n(243),Ka=function(e){var t=e.networkId,n=e.networkName;return r.a.createElement(hn.a,{size:"small",icon:!0,warning:!0},r.a.createElement(xn.a,{name:"warning"}),r.a.createElement(hn.a.Content,null,r.a.createElement(hn.a.Header,null,"You are not connected to mainnet!"),"Your current network: ",n," (ID: ",t,")"))},Ua=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.networkId,n=e.networkName;return 1===t?null:r.a.createElement(nn.a.Row,null,r.a.createElement(Ka,{networkId:t,networkName:n}))}}]),t}(a.Component),Za=Object(za.a)(function(e){return{networkId:e.web3Instance.id,networkName:e.web3Instance.name}})(Ua),Ja=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(nn.a,{padded:"vertically"},r.a.createElement(Za,null),r.a.createElement(nn.a.Row,null,r.a.createElement(nn.a.Column,{width:4},r.a.createElement(ta,null)),r.a.createElement(nn.a.Column,{width:12},r.a.createElement(Xn.a,null,r.a.createElement(Qn.a,{exact:!0,path:"/",component:Kn}),r.a.createElement(Qn.a,{exact:!0,path:"/overview/",component:Kn}),r.a.createElement(Qn.a,{path:"/accounts/",component:pa}),r.a.createElement(Qn.a,{path:"/events/:tokenId/:address",component:Ya}),r.a.createElement(Qn.a,{path:"/events/:tokenId/",component:Ya}),r.a.createElement(Qn.a,{path:"/events/",component:Ya}),r.a.createElement(Qn.a,{path:"/tokenContracts/",component:wa}),r.a.createElement(Qn.a,{component:function(e){var t=e.location;return r.a.createElement("div",null,r.a.createElement("h3",null,"No match for ",r.a.createElement("code",null,t.pathname)))}})))),r.a.createElement(nn.a.Row,null,r.a.createElement(nn.a.Column,{width:16},r.a.createElement(Jn,null))))}}]),t}(a.Component),Xa=function(e){var t=e.content;return r.a.createElement(Jt.a,{open:!0},r.a.createElement(Xt.a,null,r.a.createElement(xn.a,{loading:!0,name:"spinner"}),r.a.createElement(Xt.a.Content,null,t)))};Xa.defaultProps={};var Qa=Xa,$a=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).tokenListUrl="/tokens_1.json",a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.listState===Q.VIRGIN&&this.loadTokenList(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.listState===Q.VIRGIN&&this.loadTokenList(e)}},{key:"loadTokenList",value:function(e){if(e.networkId>=1){var t="/tokens_"+e.networkId+".json";e.loadTokenList(t)}}},{key:"render",value:function(){return this.props.listState===Q.INITIALIZED?a.Children.only(this.props.children):r.a.createElement(Qa,{content:"Loading token contracts"})}}]),t}(a.Component),er=Object(m.b)(function(e){return{listState:e.tokens.listState.listState,networkId:e.web3Instance.id}},function(e){return{loadTokenList:function(t){e(function(e){return function(){var t=Object(E.a)(b.a.mark(function t(n,a){var r,o,c,l,s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(pe()),n(ee(Q.LOADING)),t.next=4,fetch(e);case 4:return r=t.sent,t.next=7,r.json();case 7:(o=t.sent).sort(function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:1}),n((i=o.length,{type:fe,payload:{count:i}})),c=a().tokens.listState.filterIsActive,o.forEach(function(e){var t=Oe(e);n(ne(t.address,t))}),c&&n(ye({})),l=a().tokens.allIds,(s=a().tokens.trackedIds.filter(function(e){return l.indexOf(e)>-1})).length&&a().addresses.allIds.forEach(function(e){n(Te(s,e))}),a().tokens.trackedIds.filter(function(e){return-1===s.indexOf(e)}).forEach(function(e){n(ke(e,!1))}),n(ee(Q.INITIALIZED));case 19:case"end":return t.stop()}var i},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}(t))}}})($a),tr=function(e){var t=e.state,n=e.onRetry,o=e.children;switch(t){case Ge.INITIALIZED:return a.Children.only(o);case Ge.ERROR:return r.a.createElement(Jt.a,{open:!0},r.a.createElement(Jt.a.Header,null,r.a.createElement(xn.a,{name:"exclamation"})," No web3 found"),r.a.createElement(Jt.a.Content,null,r.a.createElement("p",null,"Failed to initialize web3. Please enable web3 in your browser, e.g by using the Metamask extension."),r.a.createElement("p",null,r.a.createElement(En.a,{onClick:n},"Retry"))));case Ge.LOADING:default:return r.a.createElement(Qa,{content:"Waiting on web3 initialization"})}},nr=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onRetry=function(){n.props.initialize()},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"componentWillUnmount",value:function(){this.props.stopBlockFilter()}},{key:"render",value:function(){var e=this.props,t=e.state,n=e.children;return r.a.createElement(tr,{state:t,onRetry:this.onRetry,children:n})}}]),t}(a.Component),ar=Object(m.b)(function(e){return{state:e.web3Instance.state}},function(e){return{initialize:function(){e(function(){var e=Object(E.a)(b.a.mark(function e(t,n){var a,r,o,c,l,s,i,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(tt()),t(Ve(Ge.LOADING)),e.prev=2,e.next=5,De;case 5:a=e.sent,r=a.web3,t(Ve(Ge.INITIALIZED)),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log("Error getting web3: "+e.t0),t(Ve(Ge.ERROR)),e.abrupt("return");case 15:return Fe(r),t(ze(r)),e.next=19,r.version.getNodePromise();case 19:return o=e.sent,t(Qe(o)),e.next=23,r.version.getNetworkPromise();case 23:return c=e.sent,l=parseInt(c,10),s=nt(l),t(Je(l,s,void 0)),e.next=29,r.eth.getBlockPromise("latest");case 29:i=e.sent,t(Ue(i)),(u=r.eth.filter("latest")).watch(function(){var e=Object(E.a)(b.a.mark(function e(n,a){var o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}console.log("Error watching for block events: "+n),e.next=8;break;case 4:return e.next=6,r.eth.getBlockPromise(a);case 6:(o=e.sent)?t(Ue(o)):(console.log("Ignoring null-block!"),console.log(o));case 8:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),t(et(u)),setInterval(Object(E.a)(b.a.mark(function e(){var a,o,c,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.version.getNetworkPromise();case 2:a=e.sent,o=parseInt(a,10),(c=n().web3Instance.id)!==o&&(l=nt(o),t(Je(o,l,c)),t(pe()));case 6:case"end":return e.stop()}},e,this)})),1e3);case 35:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t,n){return e.apply(this,arguments)}}())},stopBlockFilter:function(){e(tt())}}})(nr),rr=function(){var e=Object(f.e)(zt,Object(f.d)(Object(f.a)(lt.a,Kt)));return{store:e,persistor:Object(Lt.c)(e)}}(),or=rr.store,cr=rr.persistor,lr=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{store:or},r.a.createElement(Zt.PersistGate,{persistor:cr},r.a.createElement(ar,null,r.a.createElement(er,null,r.a.createElement(h.a,null,r.a.createElement(Ut.a,null,r.a.createElement(mn,null),r.a.createElement(Ja,null)))))))}}]),t}(a.Component),sr=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ir(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(lr,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");sr?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ir(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ir(e)})}}()}},[[442,2,1]]]);
//# sourceMappingURL=main.34788139.chunk.js.map