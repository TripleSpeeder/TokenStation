(this.webpackJsonptokenstation=this.webpackJsonptokenstation||[]).push([[0],{1027:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(87),c=n.n(o),l=n(18),s=n(19),i=n(21),u=n(20),d=n(22),p=n(24),m=n(53),f=n(59),h=n(29),b=n(28),v=n.n(b),E=n(50),k=n(499),g=n.n(k),y=n(500),O=n.n(y),I=n(339),w=n.n(I),j=n(77),C=n.n(j),S={VIRGIN:"virgin",LOADING:"loading",INITIALIZED:"initialized"},T="SET_BALANCE";var A="SET_BALANCE_STATE";var N="CREATE_BALANCE_ENTRY";function P(e,t,n){return{type:N,payload:{balanceId:e,addressId:t,tokenId:n}}}var D="DELETE_BALANCE_ENTRY";function B(e){return{type:D,payload:{balanceId:e}}}var L="CHANGE_BALANCE_FILTER_PROPS";function R(e){return function(t,n){var a=e.toLowerCase(),r=n().balance.allIds;a.length&&(r=r.filter((function(e){var t=n().balance.byId[e],r=n().tokens.byId[t.tokenId];return r.name.toLowerCase().includes(a)||r.symbol.toLowerCase().includes(a)||r.address.toLowerCase().includes(a)}))),t({type:L,payload:{filter:a,matchedBalanceIds:r}})}}function x(e,t,n){return function(a,r){var o=G(e,t);void 0===r().balance.byId[o]&&a(P(o,e,t)),a(function(e,t){return{type:T,payload:{balanceId:e,balance:t}}}(o,n))}}function _(e,t,n){return function(a,r){var o=G(t,e);void 0===r().balance.byId[o]&&a(P(o,t,e)),a(function(e,t){return{type:A,payload:{balanceId:e,balanceState:t}}}(o,n))}}function F(e){return function(t,n){var a=n().balance.byId[e];t(We(a.tokenId,a.addressId))}}function G(e,t){return e+"-"+t}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M={};function z(){return M}function K(e,t){var n=t.payload,a=n.addressId,r=n.tokenId,o=Z(a,r);return H({},e,Object(h.a)({},o,{acesId:o,addressId:a,tokenId:r,isLoading:!1,firstBlock:0,lastBlock:0,eventIds:[],loadingFromBlock:0,loadingToBlock:0,loadingCurrentBlock:0}))}function W(e,t){var n=t.payload,a=n.events,r=n.tokenId,o=H({},e);return a.forEach((function(e){var t=e.id,n=e.args,a=n._from,c=n._to,l=Z(a,r);[Z(c,r),l].forEach((function(e){if(o[e]){if(o[e].eventIds.includes(t))return void console.warn("Ignoring duplicate event "+t);o[e].eventIds=o[e].eventIds.concat(t)}}))})),o}function U(e,t){var n=t.payload,a=n.aceIds,r=n.isLoading,o=n.loadingFromBlock,c=n.loadingToBlock,l=n.loadingCurrentBlock,s=H({},e);return a.forEach((function(e){var t=s[e];t&&(s[e]=H({},t,{isLoading:r,loadingFromBlock:o,loadingToBlock:c,loadingCurrentBlock:l}))})),s}function q(e,t){var n=t.payload,a=n.aceIds,r=n.fromBlock,o=n.toBlock,c=H({},e);return a.forEach((function(e){var t=c[e];t&&(0===t.firstBlock?t.firstBlock=r:t.firstBlock=Math.min(r,t.firstBlock),0===t.lastBlock?t.lastBlock=o:t.lastBlock=Math.max(o,t.lastBlock),c[e]=t)})),c}function Y(e,t){var n=t.payload,a=n.aceId,r=n.eventIds;return H({},e,Object(h.a)({},a,H({},e[a],{eventIds:r})))}function Z(e,t){return e.toLowerCase()+"-"+t}var J="ADD_EVENTS";var X="CHANGE_TRANSFEREVENTLIST_PAGE";var $="CREATE_ACE_ENTRY";function Q(e,t){return{type:$,payload:{addressId:e,tokenId:t}}}var ee="ACE_ENTRIES_LOADING_CHANGE";function te(e,t,n,a,r,o){var c=e.map((function(e){return Z(e,t)}));return{type:ee,payload:{aceIds:c,isLoading:n,loadingFromBlock:a,loadingToBlock:r,loadingCurrentBlock:o}}}var ne="ACE_ENTRIES_BLOCK_RANGE_CHANGE";function ae(e,t,n,a){var r=e.map((function(e){return Z(e,t)}));return{type:ne,payload:{aceIds:r,fromBlock:n,toBlock:a}}}var re="SET_ACE_ENTRY_EVENT_IDS";var oe="CHANGE_EVENT_SCAN_PROPS";function ce(e){return{type:oe,payload:{props:e}}}function le(e,t,n,a,r,o){return function(){var c=Object(E.a)(v.a.mark((function c(l,s){return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:e.forEach((function(e){var n=Z(e,t);void 0===s().events.aceById[n]&&l(Q(e,t))})),l(te(e,t,n,a,r,o));case 2:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()}function se(e,t,n,a){return function(n,a){var r,o=[],c=a().addresses.allIds;e.forEach((function(e){var r=e.args,l=r._from,s=r._to;if(c.includes(l.toLowerCase())){var i=Z(l,t);o.push(i),void 0===a().events.aceById[i]&&n(Q(l,t))}if(c.includes(s.toLowerCase())){var u=Z(s,t);o.push(u),void 0===a().events.aceById[u]&&n(Q(s,t))}})),n(function(e,t){return{type:J,payload:{events:e,tokenId:t}}}(e,t)),n((r=o,function(e,t){var n=t().events.byId;r.forEach((function(a){var r=t().events.aceById[a].eventIds.slice().sort((function(e,t){return n[t].transferEvent.blockNumber-n[e].transferEvent.blockNumber}));e(function(e,t){return{type:re,payload:{aceId:e,eventIds:t}}}(a,r))}))}))}}var ie="TRACKED_TOKEN_KEYS",ue="SELECTED_TOKEN_KEY",de="WATCHED_ADDRESSES";function pe(e,t){localStorage.setItem(e,JSON.stringify(t))}function me(e,t){try{var n=JSON.parse(localStorage.getItem(e));if(n)return n}catch(a){}return t}var fe="0x1000000000000000000000000000000000000001",he={name:"Ethereum",symbol:"ETH",address:fe,decimals:18},be={VIRGIN:"virgin",LOADING:"loading",INITIALIZED:"initialized"},ve="IS_LOADING_TOKEN_LIST";function Ee(e){return{type:ve,payload:{listState:e}}}var ke="ADD_TOKEN";function ge(e,t){return{type:ke,payload:{tokenID:e,token:t}}}var ye="ADD_VOLATILE_TOKEN";var Oe="IS_LOADING_TOKEN";function Ie(e,t){return{type:Oe,payload:{tokenID:e,isLoading:t}}}var we="SET_TOKEN_SUPPLY";var je="IS_LOADING_SUPPLY";var Ce="SET_TOKEN_CONTRACT_INSTANCE";function Se(e,t){return{type:Ce,payload:{tokenID:e,contractInstance:t}}}var Te="SET_TOKEN_LOADING_PROMISE";function Ae(e){return function(t,n){t(Pe(e)),pe(ue,n().tokens.selector.selectedTokenId)}}var Ne="CHANGE_SELECTOR_TOKENID";function Pe(e){return{type:Ne,payload:{selectedTokenId:e}}}var De="CLEAR_TOKEN_LIST";function Be(){return{type:De}}var Le="CHANGE_VALID_TOKEN_COUNT";var Re="CHANGE_FILTER_PROPS";var xe="RESET_DISPLAY_COUNT";var _e="CHANGE_TOKEN_TRACKING";function Fe(e,t){return{type:_e,payload:{tokenId:e,doTrack:t}}}var Ge="CHANGE_TOKENLIST_PAGE";function Ve(e){return{type:Ge,payload:{activePage:e}}}function He(e,t){return function(n,a){n(Fe(e,t)),pe(ie,a().tokens.trackedIds),t?a().addresses.allIds.forEach((function(t){n(We(e,t))})):n(function(e){return function(t,n){Object.values(n().balance.byId).filter((function(t){return t.tokenId===e})).forEach((function(e){t(B(e.balanceId))}))}}(e))}}function Me(e){return function(t,n){var a=e.filterString,r=e.showOnlyTracked,o=n().tokens.listState.filter.toLowerCase(),c=n().tokens.listState.showOnlyTracked;void 0===a&&(a=o),void 0===r&&(r=c);var l=a.toLowerCase(),s=l.length>0||r;(o!==l||c!==r)&&(t({type:xe}),t(Ve(1)));var i=n().tokens.allIds;r&&(i=n().tokens.trackedIds),l.length&&(i=i.filter((function(e){var t=n().tokens.byId[e];return t.name.toLowerCase().includes(l)||t.symbol.toLowerCase().includes(l)||t.address.toLowerCase().includes(l)}))),t(function(e,t,n,a){return{type:Re,payload:{filter:e,matchedTokenIds:t,showOnlyTracked:n,filterIsActive:a}}}(l,i,r,s))}}function ze(e){return{id:e.address,address:e.address,symbol:e.symbol,decimals:new C.a(e.decimals),name:e.name,description:null,website:e.website,imageUrl:null,supply:{loading:!1,supply:void 0},balance:void 0,eventIds:[],loading:!1}}function Ke(e){return function(t,n){var a=new Promise(function(){var a=Object(E.a)(v.a.mark((function a(r,o){var c,l,s,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e!==fe){a.next=5;break}t(Ie(e,!1)),r(),a.next=16;break;case 5:return t(Ie(e,!0)),c=n().tokens.byId[e],l=n().web3Instance.web3,(s=g()({abi:O.a})).setProvider(l.currentProvider),a.next=12,s.at(c.address);case 12:i=a.sent,t(Se(e,i)),t(Ie(e,!1)),r();case 16:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}());t(function(e,t){return{type:Te,payload:{tokenID:e,loadingPromise:t}}}(e,a))}}function We(e,t){return Ue([e],t)}function Ue(e,t){return function(){var n=Object(E.a)(v.a.mark((function n(a,r){var o,c,l,s,i,u,d,p,m;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=!0,c=!1,l=void 0,n.prev=3,s=e[Symbol.iterator]();case 5:if(o=(i=s.next()).done){n.next=28;break}if(u=i.value,a(_(u,t,S.LOADING)),d=r().addresses.byId[t].address,p=void 0,u!==fe){n.next=17;break}return n.next=13,r().web3Instance.web3.eth.getBalance(d);case 13:p=n.sent,p=new C.a(p),n.next=23;break;case 17:return n.next=19,qe(u,a,r);case 19:return m=r().tokens.volatileById[u],n.next=22,m.contractInstance.balanceOf(d);case 22:p=n.sent;case 23:a(x(t,u,p)),a(_(u,t,S.INITIALIZED));case 25:o=!0,n.next=5;break;case 28:n.next=34;break;case 30:n.prev=30,n.t0=n.catch(3),c=!0,l=n.t0;case 34:n.prev=34,n.prev=35,o||null==s.return||s.return();case 37:if(n.prev=37,!c){n.next=40;break}throw l;case 40:return n.finish(37);case 41:return n.finish(34);case 42:case"end":return n.stop()}}),n,null,[[3,30,34,42],[35,,37,41]])})));return function(e,t){return n.apply(this,arguments)}}()}function qe(e,t,n){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(E.a)(v.a.mark((function e(t,n,a){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=a().tokens.volatileById[t])&&(n({type:ye,payload:{tokenID:t}}),r=a().tokens.volatileById[t]),!r.loadingPromise){e.next=6;break}return e.abrupt("return",r.loadingPromise);case 6:return n(Ke(t)),r=a().tokens.volatileById[t],e.abrupt("return",r.loadingPromise);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xe={listState:be.VIRGIN,total:0,filter:"",matchedTokenIds:[],displayCount:10,showOnlyTracked:!1,filterIsActive:!1,activePage:1};function $e(e){return Je({},e,{displayCount:Xe.displayCount,matchedTokenIds:Xe.matchedTokenIds,activePage:Xe.activePage,total:Xe.total,listState:Xe.listState})}function Qe(e){return Je({},e,{displayCount:Xe.displayCount})}function et(e,t){return Je({},e,{listState:t.payload.listState})}function tt(e,t){return Je({},e,{total:t.payload.count})}function nt(e,t){var n=t.payload;return Je({},e,{filter:n.filter,matchedTokenIds:n.matchedTokenIds,showOnlyTracked:n.showOnlyTracked,filterIsActive:n.filterIsActive})}function at(e,t){return Je({},e,{activePage:t.payload.activePage})}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct={};function lt(){return ct}function st(e,t){var n=t.payload,a=n.tokenID,r=n.token;return void 0===e[a]?ot({},e,Object(h.a)({},a,r)):e}function it(e,t){var n=t.payload,a=n.tokenID,r=n.isLoading,o=e[a];return ot({},e,Object(h.a)({},a,ot({},o,{loading:r})))}function ut(e,t){var n=t.payload,a=n.tokenID,r=n.supply,o=e[a];return ot({},e,Object(h.a)({},a,ot({},o,{supply:ot({},o.supply,{supply:r})})))}function dt(e,t){var n=t.payload,a=n.tokenID,r=n.isLoading,o=e[a];return ot({},e,Object(h.a)({},a,ot({},o,{supply:ot({},o.supply,{loading:r})})))}function pt(e,t){var n=t.payload,a=n.events,r=n.tokenId,o=e[r],c=o.eventIds;return a.forEach((function(e){var t=e.id;c.includes(t)?console.warn("Ignoring duplicate event "+t):c=c.concat(t)})),ot({},e,Object(h.a)({},r,ot({},o,{eventIds:c})))}var mt=[];function ft(e,t){var n=t.payload.tokenID;return-1===e.indexOf(n)?e.concat(n):e}function ht(){return mt}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et={};function kt(){return Et}function gt(e,t){var n=t.payload,a=n.tokenID,r=n.contractInstance,o=e[a];return vt({},e,Object(h.a)({},a,vt({},o,{contractInstance:r})))}function yt(e,t){var n=t.payload.tokenID;return void 0===e[n]?vt({},e,Object(h.a)({},n,{tokenID:n})):e}function Ot(e,t){var n=t.payload,a=n.tokenID,r=n.loadingPromise,o=e[a];return vt({},e,Object(h.a)({},a,vt({},o,{loadingPromise:r})))}var It=[];function wt(e,t){var n=t.payload,a=n.tokenId,r=n.doTrack,o=e.indexOf(a);return r&&-1===o?e.concat(a):!r&&o>-1?e.filter((function(e){return e!==a})):e}var jt=n(240),Ct=n.n(jt),St=new Promise((function(e,t){window.addEventListener("load",Object(E.a)(v.a.mark((function n(){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:window.ethereum&&(a=new Ct.a(window.ethereum)),a?(console.log("Injected web3 detected."),e({web3:a})):t({error:"No web3 injected"});case 2:case"end":return n.stop()}}),n)}))))})),Tt={UNINITIALIZED:"uninitialized",LOADING:"loading",INITIALIZED:"initialized",ERROR:"error"},At={REJECTED:"rejected",WAITING:"waiting",GRANTED:"granted"},Nt="SET_WEB3_STATE";function Pt(e){return{type:Nt,state:e}}var Dt="SET_ETH_ENABLE_STATE";function Bt(e){return{type:Dt,ethEnableState:e}}var Lt="SET_WEB3INSTANCE";function Rt(e){return{type:Lt,web3:e}}var xt="SET_CURRENT_BLOCK";function _t(e){return{type:xt,block:e}}var Ft="SET_NETWORK";function Gt(e,t,n){return{type:Ft,id:e,name:t,previousId:n}}var Vt="SET_NODE_VERSION";function Ht(e){return{type:Vt,nodeVersion:e}}var Mt="SET_BLOCK_FILTER";function zt(e){return{type:Mt,blockFilter:e}}function Kt(){return function(e,t){var n=t().web3Instance.blockFilter;n&&(n.unsubscribe((function(e,t){e?console.log("Error stopping blockfilter: "+e):console.log("Success stopping blockfilter: "+t)})),e(zt(null)))}}function Wt(e){var t="unknown";switch(e){case 4447:t="truffle test";break;case 1:t="mainnet";break;case 2:t="Morden (deprecated!)";break;case 3:t="Ropsten";break;case 4:t="Rinkeby";break;case 42:t="Kovan";break;case 61:t="ETC";break;case 62:t="ETC Testnet";break;default:t="Unknown"}return t}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var qt={selectedTokenId:void 0};function Yt(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{selectedTokenId:t.payload.selectedTokenId})}function Zt(e,t){var n=t.id,a=t.previousId;return a&&a!==n?qt:e}var Jt=Object(f.combineReducers)({listState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return et(e,t);case Le:return tt(e,t);case Re:return nt(e,t);case xe:return Qe(e);case Ge:return at(e,t);case De:return $e(e);default:return e}},byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return st(e,t);case Oe:return it(e,t);case we:return ut(e,t);case je:return dt(e,t);case De:return lt();case J:return pt(e,t);default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return ft(e,t);case De:return ht();default:return e}},trackedIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return wt(e,t);default:return e}},volatileById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:case ye:return yt(e,t);case Te:return Ot(e,t);case Ce:return gt(e,t);case De:return kt();default:return e}},selector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Yt(e,t);case Ft:return Zt(e,t);default:return e}}});function Xt(e,t){return Object.assign({},e,t)}var $t={web3:null,state:Tt.UNINITIALIZED,block:{number:0,timestamp:0},id:-1,name:"unknown",blockFilter:null,ethEnableState:At.REJECTED},Qt=n(501),en="ADDRESS_TYPE_EXTERNAL",tn="ADDRESS_TYPE_OWNED",nn={VIRGIN:"virgin",LOADING:"loading",INITIALIZED:"initialized"},an="CHANGE_ADDRESS_BALANCES_STATE";var rn="ADD_ADDRESS";function on(e,t,n){return{type:rn,payload:{addressId:e,address:e,ensName:t,type:n}}}function cn(e){return function(t,n){t(function(e){return{type:ln,payload:{addressId:e}}}(e)),t(function(e){return function(t,n){Object.values(n().balance.byId).filter((function(t){return t.addressId===e})).forEach((function(e){t(B(e.balanceId))}))}}(e));var a=Object.values(n().addresses.byId).map((function(e){return{address:e.address,ensName:e.ensName}}));pe(de,a)}}var ln="REMOVE_ADDRESS";var sn="CHANGE_ADDRESS_TYPE";function un(e,t){return{type:sn,payload:{addressId:e,newType:t}}}function dn(e,t,n){return function(a,r){a(on(e=e.toLowerCase(),t,n));var o=Object.values(r().addresses.byId).map((function(e){return{address:e.address,ensName:e.ensName}}));pe(de,o);var c=r().tokens.trackedIds;c.length&&a(Ue(c,e))}}var pn="CHANGE_SELECTOR_ADDRESSID";function mn(e){return{type:pn,payload:{selectedAddressId:e}}}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bn={};function vn(e,t){var n=t.payload,a=n.addressId,r=n.address,o=n.ensName,c=n.type;return Object.keys(e).indexOf(a)>-1?(console.warn("Ignoring duplicate address "+a),e):hn({},e,Object(h.a)({},a,{address:r,ensName:o,type:c,balancesState:nn.VIRGIN,eventIds:[]}))}function En(e,t){var n=t.payload.addressId,a=Object.assign({},e);return delete a[n],a}function kn(e,t){var n=t.payload,a=n.addressId,r=n.newType,o=e[a];return hn({},e,Object(h.a)({},a,hn({},o,{type:r})))}function gn(e,t){var n=t.payload,a=n.addressBalancesState,r=n.addressId,o=e[r];return hn({},e,Object(h.a)({},r,hn({},o,{balancesState:a})))}var yn=[];function On(e,t){var n=t.payload.addressId;return e.indexOf(n)>-1?(console.warn("Ignoring duplicate address "+n),e):e.concat(n)}function In(e,t){var n=t.payload.addressId;return e.filter((function(e){return e!==n}))}function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var jn={selectedAddressId:""};function Cn(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{selectedAddressId:t.payload.selectedAddressId})}var Sn=Object(f.combineReducers)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rn:return vn(e,t);case ln:return En(e,t);case sn:return kn(e,t);case an:return gn(e,t)}return e},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rn:return On(e,t);case ln:return In(e,t)}return e},selector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pn:return Cn(e,t);default:return e}}});function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nn={};function Pn(){return Nn}function Dn(e,t){var n=t.payload,a=n.balanceId,r=n.balance,o=e[a];return An({},e,Object(h.a)({},a,An({},o,{balance:r})))}function Bn(e,t){var n=t.payload,a=n.balanceId,r=n.addressId,o=n.tokenId;return An({},e,Object(h.a)({},a,{balanceId:a,addressId:r,tokenId:o,balance:new C.a(0),balanceState:S.VIRGIN}))}function Ln(e,t){var n=t.payload,a=n.balanceId,r=n.balanceState,o=e[a];return An({},e,Object(h.a)({},a,An({},o,{balanceState:r})))}function Rn(e,t){return delete e[t.payload.balanceId],e}var xn=[];function _n(){return xn}function Fn(e,t){var n=t.payload.balanceId;return e.indexOf(n)>-1?(console.warn("Ignoring duplicate balance "+n),e):e.concat(n)}function Gn(e,t){var n=t.payload.balanceId,a=e.indexOf(n);return a>-1?(e.splice(a,1),e):e}var Vn=[];function Hn(){return Vn}function Mn(e,t){var n=t.payload,a=n.balanceId,r=n.balance;return e.indexOf(a)>-1?r.isZero()?e.filter((function(e){return e!==a})):e:r.gt(0)?e.concat(a):e}function zn(e,t){var n=t.payload.balanceId,a=e.indexOf(n);return a>-1?(e.splice(a,1),e):e}function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Wn={filter:"",matchedBalanceIds:[],displayCount:10};function Un(){return Wn}function qn(e,t){var n=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{filter:n.filter,matchedBalanceIds:n.matchedBalanceIds})}var Yn=Object(f.combineReducers)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Bn(e,t);case T:return Dn(e,t);case A:return Ln(e,t);case D:return Rn(e,t);case De:return Pn();default:return e}},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Fn(e,t);case D:return Gn(e,t);case De:return _n();default:return e}},positiveIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Mn(e,t);case D:return zn(e,t);case De:return Hn();default:return e}},listState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return qn(e,t);case De:return Un();default:return e}}}),Zn=n(502);function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Xn={};function $n(e,t){var n=t.payload,a=n.events,r=n.tokenId;return a.forEach((function(t){var n=t.id;Object.keys(e).includes(n)?console.warn("Ignoring duplicate event "+n):e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(h.a)({},n,{transferEventId:n,tokenId:r,transferEvent:t}))})),e}function Qn(){return Xn}var ea=[];function ta(e,t){var n=t.payload.events,a=e;return n.forEach((function(t){var n=t.id;e.indexOf(n)>-1?console.warn("Ignoring duplicate event "+n):a=a.concat(n)})),a}function na(){return ea}function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oa={activePage:1,currentChunk:0,maxChunks:0};function ca(e,t){return ra({},e,{activePage:t.payload.activePage})}function la(e){return ra({},e,{activePage:1})}function sa(e,t){var n=t.payload.props;return ra({},e,{currentChunk:n.currentChunk,maxChunks:n.maxChunks})}var ia=Object(f.combineReducers)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return $n(e,t);case De:return Qn()}return e},allIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return ta(e,t);case De:return na()}return e},aceById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return K(e,t);case J:return W(e,t);case ee:return U(e,t);case ne:return q(e,t);case re:return Y(e,t);case De:return z()}return e},listState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return ca(e,t);case oe:return sa(e,t);case pn:case Ne:case De:return la(e);default:return e}}}),ua="SHOW_MODAL";var da="HIDE_MODAL";var pa={modalType:null,modalProps:{}};function ma(e,t){var n=t.payload;return{modalType:n.modalType,modalProps:n.modalProps}}function fa(){return pa}var ha=n(503),ba=Object(f.combineReducers)({web3Instance:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Xt(e,{state:t.state});case Dt:return Xt(e,{ethEnableState:t.ethEnableState});case Lt:return Xt(e,{web3:t.web3});case xt:return Xt(e,{block:t.block});case Ft:return Xt(e,{id:t.id,name:t.name});case Vt:return Xt(e,{nodeVersion:t.nodeVersion});case Mt:return Xt(e,{blockFilter:t.blockFilter})}return e},tokens:Jt,addresses:Sn,balance:Yn,events:ia,modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ua:return ma(0,t);case da:return fa()}return e}}),va=Object(Zn.createLogger)({diff:!1}),Ea=Object(ha.composeWithDevTools)({maxAge:50,actionsBlacklist:["ADD_TOKEN"],trace:!1}),ka=n(1076),ga=n(1081),ya=n(1071),Oa=function(e){var t=e.closeModal;return r.a.createElement(ga.a,{open:!0,onClose:t},r.a.createElement(ga.a.Header,null,"Select a Photo"),r.a.createElement(ga.a.Content,null,r.a.createElement(ga.a.Description,null,r.a.createElement(ya.a,null,"Default Profile Image"),r.a.createElement("p",null,"We've found the following gravatar image associated with your e-mail address."),r.a.createElement("p",null,"Is it okay to use this photo?"))))};Oa.defaultProps={};var Ia=Oa,wa=n(99),ja=n(342),Ca=n(273),Sa=n(1078),Ta=n(108),Aa=n(81),Na=function(e){var t=e.web3,n=e.onValidSubmit,a=e.onClose,o=e.fromAddress,c=e.tokenName,l=e.tokenSymbol,s=e.tokenBalance,i=e.etherBalance,u=e.gasCosts,d=r.a.createElement(Ta.a,{color:"red",pointing:!0});return Object(wa.addValidationRule)("isEthereumAddress",(function(e,n){return t.isAddress(n)})),Object(wa.addValidationRule)("isLessThanOrEqual",(function(e,n,a){try{var r=t.utils.toBN(n),o=t.toBN(a);return r.lte(o)}catch(c){return!1}})),r.a.createElement(ga.a,{open:!0,onClose:a,size:"small",closeIcon:!0},r.a.createElement(ga.a.Header,null,"Transfer '",c,"' Tokens"),r.a.createElement(ga.a.Content,null,r.a.createElement(Aa.Form,{noValidate:!0,onValidSubmit:n},r.a.createElement(ja.a,null,r.a.createElement(Ca.a,{columns:2},r.a.createElement(Ca.a.Row,null,r.a.createElement(Ca.a.Column,{width:4},r.a.createElement("strong",null,"Account address:")),r.a.createElement(Ca.a.Column,{width:5},o)),r.a.createElement(Ca.a.Row,null,r.a.createElement(Ca.a.Column,{width:4},r.a.createElement("strong",null,"Account balance:")),r.a.createElement(Ca.a.Column,{width:5},r.a.createElement(Sa.a,null,r.a.createElement(Sa.a.Item,null,s.toFixed()," ",l),r.a.createElement(Sa.a.Item,null,i.toFixed()," ETH")))))),r.a.createElement(ja.a,null,r.a.createElement(ya.a,{size:"small"},"To Address"),r.a.createElement(Aa.Form.Group,null,r.a.createElement(Aa.Input,{width:6,name:"toAddress",placeholder:"Receiving ethereum address",required:!0,instantValidation:!0,validations:"isEthereumAddress",validationErrors:{isEthereumAddress:"This is not a valid Ethereum address",isDefaultRequiredValue:"To Address is Required"},errorLabel:d})),r.a.createElement(ya.a,{size:"small"},"Amount to send"),r.a.createElement(Aa.Form.Group,null,r.a.createElement(Aa.Input,{width:6,name:"amount",placeholder:"Enter amount",label:l,labelPosition:"right",required:!0,instantValidation:!0,validations:"isNumeric,isLessThanOrEqual:"+s.toFixed(),validationErrors:{isNumeric:"This is not a valid number",isDefaultRequiredValue:"Amount is Required",isLessThanOrEqual:"Maximum available balance is "+s.toFixed()},errorLabel:d}))),r.a.createElement(ja.a,null,r.a.createElement(ya.a,{size:"small"},"Estimated Gas costs"),r.a.createElement(Aa.Form.Group,null,r.a.createElement(Aa.Input,{width:6,name:"gasCosts",label:"ETH",labelPosition:"right",readOnly:!0,value:u,validations:"isLessThanOrEqual:"+i.toFixed(),instantValidation:!0,validationErrors:{isLessThanOrEqual:"Not enough ether to cover gas costs"},errorLabel:d}))),r.a.createElement(Aa.Form.Group,null,r.a.createElement(Aa.Form.Button,{content:"Submit",color:"green"})))))};Na.defaultProps={};var Pa=Na,Da=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).onValidSubmit=function(e){return alert(JSON.stringify(e))},a.state={amount:a.props.web3.utils.toBN("0"),toAddressValid:!1,amountValid:!1,rateValid:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fromAddress,n=e.tokenName,a=e.tokenSymbol,o=e.tokenBalance,c=this.props.web3.toBN("0.0022"),l=this.props.web3.toBN("12.3456");return r.a.createElement(Pa,{onValidSubmit:this.onValidSubmit,onClose:this.props.closeModal,fromAddress:t,web3:this.props.web3,tokenName:n,tokenSymbol:a,tokenBalance:o,gasCosts:c,etherBalance:l})}}]),t}(a.Component);Da.defaultProps={};var Ba={TEST_MODAL:Ia,TRANSFER_FORM_CONTAINER:Object(p.b)((function(e,t){var n=e.balance.byId[t.tokenBalanceId],a=e.addresses.byId[n.addressId].address,r=e.tokens.byId[n.tokenId],o=n.balance.dividedBy(r.decimals);return{web3:e.web3Instance.web3,fromAddress:a,tokenBalance:o,tokenName:r.name,tokenSymbol:r.symbol,tokenId:r.id}}),(function(e){return{transferToken:function(){e(function(){var e=Object(E.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}}}))(Da)},La=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalType,n=e.modalProps,a=e.closeModal;if(!t)return null;var o=Ba[t];return r.a.createElement(o,Object.assign({closeModal:a},n))}}]),t}(a.Component),Ra=Object(p.b)((function(e){return e.modal}),(function(e){return{closeModal:function(){e({type:da,payload:{}})}}}))(La),xa=function(e){var t=e.title;return r.a.createElement(ya.a,{as:"h1",block:!0,inverted:!0,color:"green",textAlign:"center",style:{marginTop:0}},t)};xa.defaultProps={};var _a=xa,Fa=n(171),Ga=n.n(Fa),Va=n(40),Ha=n(1075),Ma=n(124),za=n(534),Ka=n(1079),Wa=n(535),Ua=n.n(Wa),qa=function(e){var t=e.amount,n=e.numDecimals,a=new C.a(3),o=Ua()({value:t,decimals:n,roundToDecimals:a}),c=o.precise,l=o.rounded,s=c,i=r.a.createElement("span",null,l);return r.a.createElement(Ka.a,{trigger:i,content:s})},Ya=function(e){var t=e.address,n=e.ensName;return n?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("strong",null,n)),r.a.createElement("div",null,r.a.createElement("small",null,t))):r.a.createElement("div",null,r.a.createElement("strong",null,t))},Za=function(e){var t=e.address,n=e.ensName,a=e.amount,o=e.decimals,c=e.loading,l=e.reloadBalance,s=e.url;return r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.Cell,null),r.a.createElement(Ha.a.Cell,null,r.a.createElement(m.b,{to:s},r.a.createElement(Ya,{address:t,ensName:n}))),r.a.createElement(Ha.a.Cell,null,r.a.createElement(qa,{amount:a,numDecimals:o})),r.a.createElement(Ha.a.Cell,null,r.a.createElement(Ma.a,{size:"mini",circular:!0,icon:"refresh",loading:c,onClick:l})))};Za.defaultProps={};var Ja=Za,Xa=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Ja,{address:this.props.address,addressType:this.props.addressType,amount:this.props.amount,decimals:this.props.decimals,reloadBalance:this.props.reloadBalance,loading:this.props.loading,url:this.props.url,openTransferModal:this.props.openTransferModal,ensName:this.props.ensName})}}]),t}(a.Component);Xa.defaultProps={};var $a=Object(p.b)((function(e,t){var n=e.balance.byId[t.tokenBalanceId],a=e.tokens.byId[n.tokenId],r=e.addresses.byId[n.addressId];return{amount:n.balance,decimals:a.decimals,address:r.address,addressType:r.type,ensName:r.ensName,loading:n.balanceState===S.LOADING,url:"/events/"+a.id+"/"+r.address}}),(function(e,t){return{reloadBalance:function(){e(F(t.tokenBalanceId))},openTransferModal:function(){var n,a;e((n="TRANSFER_FORM_CONTAINER",a={tokenBalanceId:t.tokenBalanceId},{type:ua,payload:{modalType:n,modalProps:a}}))}}}))(Xa),Qa=function(e){var t=e.expanded,n=e.tokenName,a=e.tokenSymbol,o=e.tokenBalances,c=e.total,l=e.tokenDecimals,s=e.reloadBalance,i=e.loading,u=e.tokenEventsLinkOptions,d=e.toggleCollapse,p=r.a.createElement(m.b,{to:u},n," (",a,")"),f=t?"chevron up":"chevron down",h=r.a.createElement(Ha.a.Header,null,r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.HeaderCell,{width:1},r.a.createElement(Ma.a,{onClick:d,circular:!0,icon:f,size:"large"})),r.a.createElement(Ha.a.HeaderCell,{width:8},p),r.a.createElement(Ha.a.HeaderCell,{width:5},r.a.createElement(za.a,{size:"mini"},r.a.createElement(za.a.Value,null,r.a.createElement(qa,{amount:c,numDecimals:l})))),r.a.createElement(Ha.a.HeaderCell,{width:2},r.a.createElement(Ma.a,{circular:!0,icon:"refresh",onClick:s,loading:i})))),b=null;return t&&(b=r.a.createElement(Ha.a.Body,null,o.map((function(e){return r.a.createElement($a,{key:e.balanceId,tokenBalanceId:e.balanceId})})))),r.a.createElement(Ha.a,{compact:!0},h,b)};Qa.defaultProps={};var er=Qa,tr=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).reloadBalance=a.reloadBalance.bind(Object(Va.a)(a)),a.toggleCollapse=a.toggleCollapse.bind(Object(Va.a)(a)),a.state={expanded:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"reloadBalance",value:function(){var e=this;this.props.tokenBalances.forEach((function(t){e.props.reloadBalance(t.balanceId)}))}},{key:"toggleCollapse",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){return r.a.createElement(er,{tokenName:this.props.token.name,tokenSymbol:this.props.token.symbol,tokenBalances:this.props.tokenBalances,tokenDecimals:this.props.token.decimals,total:this.props.total,reloadBalance:this.reloadBalance,loading:this.props.loading,tokenEventsLinkOptions:this.props.tokenEventsLinkOptions,expanded:this.state.expanded,toggleCollapse:this.toggleCollapse})}}]),t}(a.Component);tr.defaultProps={};var nr=Object(p.b)((function(e,t){var n=e.tokens.byId[t.tokenId],a=Ga.a.reduce(t.tokenBalances,(function(e,t){return e.add(t.balance)}),new C.a(0)),r=!1;t.tokenBalances.forEach((function(e){e.balanceState===S.LOADING&&(r=!0)}));var o={pathname:"/events/"+t.tokenId};return{token:n,total:a,loading:r,tokenEventsLinkOptions:o}}),(function(e){return{reloadBalance:function(t){e(F(t))}}}))(tr),ar=function(e){var t=e.balancesByToken;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(nr,{key:e[0],tokenId:e[0],tokenBalances:e[1]})})))};ar.defaultProps={};var rr=ar,or=n(1074),cr=function(e){var t=e.tokenName,n=e.tokenSymbol,a=e.tokenAmount,o=e.tokenDecimals,c=e.loading,l=e.reloadBalance;return r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.Cell,null),r.a.createElement(Ha.a.Cell,null,t," (",n,")"),r.a.createElement(Ha.a.Cell,null,r.a.createElement(qa,{amount:a,numDecimals:o})),r.a.createElement(Ha.a.Cell,null,r.a.createElement(Ma.a,{size:"mini",circular:!0,icon:"refresh",loading:c,onClick:l})))};cr.defaultProps={};var lr=cr,sr=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tokenAmount,n=e.tokenDecimals,a=e.tokenName,o=e.tokenSymbol,c=e.reloadBalance,l=e.loading;return r.a.createElement(lr,{tokenAmount:t,tokenDecimals:n,tokenSymbol:o,tokenName:a,reloadBalance:c,loading:l})}}]),t}(a.Component);sr.defaultProps={};var ir=Object(p.b)((function(e,t){var n=e.balance.byId[t.tokenBalanceId],a=e.tokens.byId[n.tokenId];return{tokenAmount:n.balance,tokenDecimals:a.decimals,tokenName:a.name,tokenSymbol:a.symbol,loading:n.balanceState===S.LOADING}}),(function(e,t){return{reloadBalance:function(){e(F(t.tokenBalanceId))}}}))(sr),ur=function(e){var t=e.expanded,n=e.address,a=e.ensName,o=e.tokenBalances,c=e.numTokens,l=e.reloadBalance,s=e.loading,i=e.toggleCollapse,u=t?"chevron up":"chevron down",d=r.a.createElement(Ha.a.Header,null,r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.HeaderCell,{width:1},r.a.createElement(Ma.a,{onClick:i,circular:!0,icon:u,size:"large"})),r.a.createElement(Ha.a.HeaderCell,{width:8},r.a.createElement(Ya,{address:n,ensName:a})),r.a.createElement(Ha.a.HeaderCell,{width:5},r.a.createElement(za.a,{size:"mini"},r.a.createElement(za.a.Value,null,c," token"))),r.a.createElement(Ha.a.HeaderCell,{width:2},r.a.createElement(Ma.a,{circular:!0,icon:"refresh",onClick:l,loading:s})))),p=null;return t&&(p=r.a.createElement(Ha.a.Body,null,o.map((function(e){return r.a.createElement(ir,{key:e.balanceId,tokenBalanceId:e.balanceId})})))),r.a.createElement(Ha.a,{compact:!0},d,p)};ur.defaultProps={};var dr=ur,pr=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).reloadBalance=a.reloadBalance.bind(Object(Va.a)(a)),a.toggleCollapse=a.toggleCollapse.bind(Object(Va.a)(a)),a.state={expanded:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"reloadBalance",value:function(){var e=this;this.props.tokenBalances.forEach((function(t){e.props.reloadBalance(t.balanceId)}))}},{key:"toggleCollapse",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"render",value:function(){var e=this.props,t=e.addressId,n=e.ensName,a=e.numTokens,o=e.tokenBalances,c=e.loading,l=this.state.expanded;return r.a.createElement(dr,{address:t,ensName:n,numTokens:a,tokenBalances:o,loading:c,expanded:l,toggleCollapse:this.toggleCollapse,reloadBalance:this.reloadBalance})}}]),t}(a.Component);pr.defaultProps={};var mr=Object(p.b)((function(e,t){var n=t.addressId,a=t.tokenBalances,r=e.addresses.byId[n],o=!1,c=0;return a.forEach((function(e){e.balanceState===S.LOADING&&(o=!0),e.balance.gtn(0)&&c++})),{address:n,ensName:r.ensName,numTokens:c,loading:o}}),(function(e){return{reloadBalance:function(t){e(F(t))}}}))(pr),fr=function(e){var t=e.balancesByAddress;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(mr,{key:e[0],addressId:e[0],tokenBalances:e[1]})})))};fr.defaultProps={};var hr=fr,br=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.groupedBalances,n=e.showEmpty,a=e.hasAccounts,o=e.groupBy;if(!a)return r.a.createElement(or.a,null,r.a.createElement(or.a.Header,null,"No accounts"),r.a.createElement("p",null,"You have no watched or unlocked accounts. Open the ",r.a.createElement(m.b,{to:{pathname:"/accounts/"}},"Account Manager")," to setup accounts."));if(0===Object.keys(t).length)return r.a.createElement(or.a,null,r.a.createElement(or.a.Header,null,"No balances"),r.a.createElement(or.a.Content,null,"There are no token balances to display. Things you can try:"),r.a.createElement(or.a.List,null,r.a.createElement(or.a.Item,null,"Change the filterstring"),!n&&r.a.createElement(or.a.Item,null,'Enable "Show zero balances" above'),r.a.createElement(or.a.Item,null,"Open the ",r.a.createElement(m.b,{to:{pathname:"/accounts/"}},"Account Manager")," to add additional accounts"),r.a.createElement(or.a.Item,null,"Open the ",r.a.createElement(m.b,{to:{pathname:"/tokenContracts/"}},"Token Manager")," to tracked additional tokens")));switch(o){case"tokenId":return r.a.createElement(rr,{balancesByToken:t});case"addressId":return r.a.createElement(hr,{balancesByAddress:t});default:return"Unhandled groupBy!"}}}]),t}(a.Component);br.defaultProps={};var vr=Object(p.b)((function(e,t){var n=t.showEmpty,a=t.groupBy,r=e.addresses.allIds.length>0,o=(e.balance.listState.filter.length>0?e.balance.listState.matchedBalanceIds:e.balance.allIds).map((function(t){return e.balance.byId[t]}));n||(o=o.filter((function(e){return e.balance.gtn(0)})));var c,l=Ga.a.groupBy(o,a);return"tokenId"===a?c=Object.entries(l).sort((function(t,n){return e.tokens.byId[t[0]].name.toUpperCase()<e.tokens.byId[n[0]].name.toUpperCase()?-1:1})):"addressId"===a&&(c=Object.entries(l).sort((function(t,n){var a=e.addresses.byId[t[0]],r=e.addresses.byId[n[0]],o=a.ensName?a.ensName:a.address,c=r.ensName?r.ensName:r.address;return o.toUpperCase()<c.toUpperCase()?-1:1}))),{hasAccounts:r,groupedBalances:c}}))(br),Er=n(146),kr=n(345),gr=n(51),yr=n(1033),Or=function(e){var t=e.filterString,n=e.handleChange,a=e.filterIsActive,o=e.clearFilter,c=null;return a&&(c=r.a.createElement(gr.a,{name:"eraser",circular:!0,link:!0,onClick:o})),r.a.createElement(yr.a,{label:"Filter",name:"filter",placeholder:"Enter name, symbol or contract address",onChange:n,value:t,icon:c,fluid:!0})};Or.defaultProps={};var Ir=Or,wr=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleChange=a.handleChange.bind(Object(Va.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e,t){t.name;var n=t.value;this.props.setFilterString(n)}},{key:"render",value:function(){return r.a.createElement(Ir,{filterString:this.props.filterString,handleChange:this.handleChange,filterIsActive:this.props.filterIsActive,displayed:this.props.displayed,total:this.props.total,clearFilter:this.props.clearFilter})}}]),t}(a.Component),jr=Object(p.b)((function(e,t){var n=t.target;return"tokenlist"===n?{total:e.tokens.allIds.length,displayed:e.tokens.listState.matchedTokenIds.length,filterIsActive:e.tokens.listState.filterIsActive,filterString:e.tokens.listState.filter,showOnlyTracked:e.tokens.listState.showOnlyTracked}:"balancelist"===n?{total:e.balance.allIds.length,displayed:e.balance.listState.matchedBalanceIds.length,filterIsActive:e.balance.listState.filter.length>0,filterString:e.balance.listState.filter}:{}}),(function(e,t){var n=t.target;return"tokenlist"===n?{clearFilter:function(){e(Me({filterString:""}))},setFilterString:function(t){e(Me({filterString:t}))}}:"balancelist"===n?{clearFilter:function(){e(R(""))},setFilterString:function(t){e(R(t))}}:void 0}))(wr);function Cr(e){var t=e.showEmpty,n=e.toggleShowEmpty,a=e.groupBy,o=e.setGroupBy;return r.a.createElement(Ca.a,{verticalAlign:"middle",columns:2,divided:!0},r.a.createElement(Ca.a.Row,null,r.a.createElement(Ca.a.Column,{width:3},"Group by"," ",r.a.createElement(Er.a,{inline:!0,options:[{key:"tokenId",text:"token",value:"tokenId"},{key:"addressId",text:"account",value:"addressId"}],value:a,onChange:o})),r.a.createElement(Ca.a.Column,{width:4},r.a.createElement(kr.a,{toggle:!0,label:"Show null balances",checked:t,onChange:n})),r.a.createElement(Ca.a.Column,{width:9},r.a.createElement(jr,{target:"balancelist"}))))}Cr.defaultProps={};var Sr=Cr,Tr=n(1077),Ar=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).toggleShowEmpty=function(){a.setState({showEmpty:!a.state.showEmpty})},a.setGroupBy=function(e,t){var n=t.value;a.setState({groupBy:n})},a.state={showEmpty:!0,groupBy:"tokenId"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.showEmpty,n=e.groupBy;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{title:"Overview"}),r.a.createElement(Sr,{toggleShowEmpty:this.toggleShowEmpty,showEmpty:t,setGroupBy:this.setGroupBy,groupBy:n}),r.a.createElement(Tr.a,null),r.a.createElement(vr,{showEmpty:t,groupBy:n}))}}]),t}(a.Component),Nr=function(e){var t=e.name,n=e.id,a=e.nodeVersion,o=e.block,c=e.web3Version,l="https://github.com/TripleSpeeder/TokenStation",s="https://github.com/ethereum-lists/tokens";return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Network: ",t," (",n,") | Block: ",o?o.number:"?"," | Node version: ",a," | Web3 version: ",c),r.a.createElement("p",null,"ERC20 contract data origin: ",r.a.createElement("strong",null,r.a.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},s))),r.a.createElement("p",null,"GitHub: ",r.a.createElement("strong",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l},l))," | contact: ",r.a.createElement("strong",null,r.a.createElement("a",{href:"mailto:michael@m-bauer.org"},"michael@m-bauer.org"))))},Pr=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).filter=null,a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(ja.a,{textAlign:"center"},r.a.createElement(Nr,{web3Version:this.props.web3.version,name:this.props.name,block:this.props.block,id:this.props.id,nodeVersion:this.props.nodeVersion}))}}]),t}(a.Component),Dr=Object(p.b)((function(e){return{web3:e.web3Instance.web3,name:e.web3Instance.name,id:e.web3Instance.id,block:e.web3Instance.block,nodeVersion:e.web3Instance.nodeVersion}}))(Pr),Br=n(107),Lr=n(340),Rr=function(){return r.a.createElement(Lr.a,{icon:"labeled",fluid:!0,inverted:!0,vertical:!0,pointing:!0,size:"large"},r.a.createElement(Lr.a.Item,{header:!0},"TokenStation.io"),r.a.createElement(Lr.a.Item,{as:m.c,to:"/overview",name:"overview"},r.a.createElement(gr.a,{name:"home"}),"Overview"),r.a.createElement(Lr.a.Item,{as:m.c,to:"/accounts",name:"accounts"},r.a.createElement(gr.a,{name:"users"}),"Manage Accounts"),r.a.createElement(Lr.a.Item,{as:m.c,to:"/events",name:"events"},r.a.createElement(gr.a,{name:"exchange"}),"View Transfer Events"),r.a.createElement(Lr.a.Item,{as:m.c,to:"/tokenContracts",name:"tokenContracts"},r.a.createElement(gr.a,{name:"cube"}),"Manage Contracts"))},xr=function(e){var t,n,a,o=e.address,c=e.addressType,l=e.ensName,s=e.handleRemove;c===tn?(t="unlock",n="This is one of your addresses",a=null):(t="eye",n="This is a watch-only address",a=r.a.createElement(Ma.a,{size:"tiny",onClick:s,icon:"delete"}));var i=r.a.createElement(Ka.a,{trigger:r.a.createElement(gr.a,{size:"large",name:t}),content:n});return r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.Cell,{textAlign:"left",collapsing:!0},i),r.a.createElement(Ha.a.Cell,{textAlign:"left"},r.a.createElement(Ya,{address:o,ensName:l})),r.a.createElement(Ha.a.Cell,{textAlign:"right",collapsing:!0},a))};xr.defaultProps={};var _r=xr,Fr=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleRemove=function(){n.props.removeAddress(n.props.addressId)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(_r,{address:this.props.address,addressType:this.props.addressType,ensName:this.props.ensName,handleRemove:this.handleRemove})}}]),t}(a.PureComponent);Fr.defaultProps={};var Gr=Object(p.b)((function(e,t){var n=e.addresses.byId[t.addressId],a=e.tokens.listState.total,r=Object.values(e.balance.byId).filter((function(e){return e.addressId===t.addressId&&e.balanceState===S.INITIALIZED})).length;return{address:n.address,addressType:n.type,ensName:n.ensName,balancesState:n.balancesState,progressTotal:a,progressCurrent:r}}),(function(e){return{removeAddress:function(t){e(cn(t))}}}))(Fr),Vr=n(1073),Hr=function(e){var t=e.handleChange,n=e.handleSubmit,a=e.loading,o=e.disabled,c=e.error,l=(e.address,e.ensName,e.value);return r.a.createElement(Vr.a,{onSubmit:n},r.a.createElement(Vr.a.Group,{inline:!0},r.a.createElement(Vr.a.Input,{width:10,name:"address",placeholder:"Address or ENS Name",error:c,loading:a,onChange:t,value:l,label:"Add account"}),r.a.createElement(Vr.a.Button,{content:"Submit",disabled:o,width:6})))};Hr.defaultProps={};var Mr=Hr,zr={ADDRESS_RESOLVING:"address_resolving",ADDRESS_VALID:"address_valid",ADDRESS_INVALID:"address_invalid"},Kr=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleChange=function(){var e=Object(E.a)(v.a.mark((function e(t){var n,r,o,c,l,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.value,r=zr.ADDRESS_INVALID,o="",c="",l=/^(0x)?[0-9a-f]{40}$/i.test(n),!/.*\.eth$/i.test(n)){e.next=21;break}return a.setState({addressState:zr.ADDRESS_RESOLVING,address:"",ensName:n,input:n}),e.prev=8,e.next=11,a.props.ens.getAddress(n);case 11:s=e.sent,a.setState({addressState:zr.ADDRESS_VALID,address:s,ensName:n,input:n}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log("Could not resolve "+n),a.setState({addressState:zr.ADDRESS_INVALID,address:"",ensName:n,input:n});case 19:e.next=22;break;case 21:l?(r=zr.ADDRESS_VALID,c="",o=n,a.setState({addressState:r,address:o,ensName:c,input:n})):a.setState({addressState:zr.ADDRESS_INVALID,address:"",ensName:"",input:n});case 22:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=a.state,t=e.address,n=e.ensName;a.props.addNewAddress(t,n,en),a.setState({addressState:zr.ADDRESS_INVALID,address:"",ensName:"",input:""})},a.state={addressState:zr.ADDRESS_INVALID,address:"",ensName:"",input:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.addressState===zr.ADDRESS_INVALID,t=this.state.addressState===zr.ADDRESS_RESOLVING,n=e||t;return r.a.createElement(Mr,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,error:e,loading:t,disabled:n,address:this.state.address,ensName:this.state.ensName,value:this.state.input})}}]),t}(a.Component),Wr=Object(p.b)((function(e){return{ens:e.web3Instance.web3.eth.ens}}),(function(e){return{addNewAddress:function(t,n,a){e(dn(t,n,a))}}}))(Kr),Ur=function(e){var t,n,a=e.ethEnableState,o=e.ethEnable,c=a===At.WAITING;return t=e.ownAddressIds.length?r.a.createElement(Ha.a,{basic:"very",selectable:!0},r.a.createElement(Ha.a.Body,null,e.ownAddressIds.map((function(e){return r.a.createElement(Gr,{key:e,addressId:e})})))):a===At.GRANTED?r.a.createElement(or.a,null,r.a.createElement(or.a.Header,null,"No personal accounts"),r.a.createElement("p",null,"You need to share your accounts so they are visible here. Log in to Metamask or share accounts in Mist .")):r.a.createElement(or.a,null,r.a.createElement(or.a.Header,null,"No access to personal accounts"),r.a.createElement("p",null,"You can grant access to your personal accounts. This will automatically put the accounts to the watch list."),r.a.createElement("p",null,r.a.createElement(Ma.a,{primary:!0,disabled:c,loading:c,onClick:o},"Grant access"))),n=e.watchAddressIds.length?r.a.createElement(Ha.a,{basic:"very",selectable:!0},r.a.createElement(Ha.a.Body,null,e.watchAddressIds.map((function(e){return r.a.createElement(Gr,{key:e,addressId:e})})))):r.a.createElement(or.a,null,r.a.createElement(or.a.Header,null,"No watched accounts"),r.a.createElement("p",null,"You don't have any watched accounts.")),r.a.createElement(r.a.Fragment,null,r.a.createElement(ja.a,null,r.a.createElement(ya.a,{dividing:!0,as:"h2"},"Personal Accounts"),t),r.a.createElement(ja.a,null,r.a.createElement(ya.a,{dividing:!0,as:"h2"},"Watched Accounts"),n,r.a.createElement(Tr.a,null),r.a.createElement(Wr,null)))},qr=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).requestEthEnable=a.requestEthEnable.bind(Object(Va.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.web3Instance?this.props.web3Instance.ethEnableState:At.REJECTED;return r.a.createElement(Ur,{watchAddressIds:this.props.watchAddressIds,ownAddressIds:this.props.ownAddressIds,ethEnableState:e,ethEnable:this.requestEthEnable})}},{key:"componentDidMount",value:function(){var e=this;window.ethereum&&window.ethereum.on("accountsChanged",this.props.changeOwnAddresses),this.props.web3&&this.props.web3.eth.getAccounts((function(t,n){n&&e.props.changeOwnAddresses(n)}))}},{key:"componentWillUnmount",value:function(){window.ethereum.removeListener("accountsChanged",this.props.changeOwnAddresses)}},{key:"requestEthEnable",value:function(){this.props.ethEnable()}}]),t}(a.Component);qr.defaultProps={};var Yr=Object(p.b)((function(e){return{ownAddressIds:e.addresses.allIds.filter((function(t){return e.addresses.byId[t].type===tn})),watchAddressIds:e.addresses.allIds.filter((function(t){return e.addresses.byId[t].type===en})),web3Instance:e.web3Instance?e.web3Instance:null,web3:e.web3Instance?e.web3Instance.web3:null}}),(function(e){return{changeOwnAddresses:function(t){e(function(e){return function(t,n){e=e.map((function(e){return e.toLowerCase()}));var a=n().addresses.byId,r=e.filter((function(e){var n=Object.values(a).filter((function(t){return t.address===e}));return!(n.length>0)||(n[0].type!==tn&&(console.log("Changing address "+n[0].address+" type to Owned!"),t(un(n[0].address,tn))),!1)}));Object.values(a).filter((function(t){return t.type===tn&&-1===e.indexOf(t.address)})).forEach((function(e){t(un(e.address,en))})),r.forEach((function(e){t(dn(e,"",tn))}))}}(t))},ethEnable:function(){e(function(){var e=Object(E.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=13;break}return e.prev=1,t(Bt(At.WAITING)),e.next=5,window.ethereum.enable();case 5:t(Bt(At.GRANTED)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Bt(At.REJECTED));case 11:e.next=14;break;case 13:t(Bt(At.GRANTED));case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}())}}}))(qr),Zr=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{title:"Manage Accounts"}),r.a.createElement(Yr,null))},Jr=n(1072),Xr=function(e){var t=e.address,n=e.ensName,a=e.name,o=e.symbol,c=e.checked,l=e.onChange;return r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.Cell,{collapsing:!0},r.a.createElement(Vr.a.Checkbox,{checked:c,onChange:l})),r.a.createElement(Ha.a.Cell,null,r.a.createElement("strong",null,a)),r.a.createElement(Ha.a.Cell,null,r.a.createElement("strong",null,o)),r.a.createElement(Ha.a.Cell,null,r.a.createElement(Ya,{address:t,ensName:n})))},$r=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleChange=a.handleChange.bind(Object(Va.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e,t){var n=t.checked;this.props.onChange(this.props.tokenId,n)}},{key:"render",value:function(){return r.a.createElement(Xr,{id:this.props.tokenId,address:this.props.tokenAddress,name:this.props.tokenName,symbol:this.props.tokenSymbol,onChange:this.handleChange,checked:this.props.tokenTracked})}}]),t}(a.Component);$r.defaultProps={};var Qr=Object(p.b)((function(e,t){var n=e.tokens.byId[t.tokenId],a=e.tokens.trackedIds.indexOf(t.tokenId)>-1;return{tokenAddress:n.address,tokenName:n.name,tokenSymbol:n.symbol,tokenTracked:a}}),(function(e){return{onChange:function(t,n){e(He(t,n))}}}))($r),eo=function(e){var t=e.tokenList;return t.length?r.a.createElement(Ha.a,{celled:!0},r.a.createElement(Ha.a.Body,null,t.map((function(e){return r.a.createElement(Qr,{key:e,tokenId:e})})))):r.a.createElement(or.a,{negative:!0},r.a.createElement(or.a.Header,null,"No token contracts to display."),r.a.createElement(or.a.Content,null,"Things you can try:"),r.a.createElement(or.a.List,{items:["change/clear the filterstring","check if you are connected to the correct network"]}))},to=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handleShowOnlyTrackedChange=a.handleShowOnlyTrackedChange.bind(Object(Va.a)(a)),a.handlePaginationChange=a.handlePaginationChange.bind(Object(Va.a)(a)),a.handleLoadTokens=a.handleLoadTokens.bind(Object(Va.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleShowOnlyTrackedChange",value:function(e,t){var n=t.checked;this.props.setShowTracked(n)}},{key:"handlePaginationChange",value:function(e,t){var n=t.activePage;this.props.setTokenListPage(n)}},{key:"handleLoadTokens",value:function(){this.props.clearTokenList()}},{key:"render",value:function(){var e=null;return this.props.totalPages>1&&(e=r.a.createElement(ka.a,{textAlign:"center"},r.a.createElement(Jr.a,{activePage:this.props.activePage,onPageChange:this.handlePaginationChange,totalPages:this.props.totalPages}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ca.a,{verticalAlign:"middle",columns:2,divided:!0},r.a.createElement(Ca.a.Row,null,r.a.createElement(Ca.a.Column,{width:6},r.a.createElement(kr.a,{toggle:!0,label:"Only show tracked token",checked:this.props.showOnlyTracked,onChange:this.handleShowOnlyTrackedChange})),r.a.createElement(Ca.a.Column,{width:9},r.a.createElement(jr,{target:"tokenlist"})),r.a.createElement(Ca.a.Column,{width:1},r.a.createElement(Er.a,{icon:"setting"},r.a.createElement(Er.a.Menu,null,r.a.createElement(Er.a.Item,{text:"Reload token list",onClick:this.handleLoadTokens})))))),r.a.createElement(Tr.a,null),r.a.createElement(eo,{tokenList:this.props.tokenIds}),e)}}]),t}(a.Component),no=Object(p.b)((function(e){var t=e.tokens.listState.listState,n=1,a=e.tokens.listState.activePage,r=e.tokens.listState.filterIsActive?e.tokens.listState.matchedTokenIds:e.tokens.allIds,o=e.tokens.listState.showOnlyTracked,c=r.length;c&&(n=Math.ceil(c/20));var l=20*(a-1);return{tokenIds:r=r.slice(l,l+20),showOnlyTracked:o,activePage:a,totalPages:n,listState:t}}),(function(e){return{setShowTracked:function(t){e(Me({showOnlyTracked:t}))},setTokenListPage:function(t){e(Ve(t))},clearTokenList:function(){e(Be())}}}))(to),ao=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{title:"Manage Token Contracts"}),r.a.createElement(or.a,{info:!0,icon:!0},r.a.createElement(gr.a,{name:"info"}),r.a.createElement(or.a.Header,null,"Select which tokens to track"),r.a.createElement(or.a.Content,null,"In the list below, check the tokens you want to keep track of. Use the filter to quickly find specific tokens. You can filter by token name, symbol or contract address.")),r.a.createElement(no,null))},ro=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.tokenOptions,n=e.selectedTokenId,a=e.onTokenSelect,o=e.addressOptions,c=e.selectedAddressId,l=e.onAddressSelect;return r.a.createElement(ka.a,null,r.a.createElement(Ca.a,null,r.a.createElement(Ca.a.Row,null,r.a.createElement(Ca.a.Column,{width:8},r.a.createElement(Vr.a,null,r.a.createElement(Vr.a.Field,{inline:!0},r.a.createElement("label",null,"Show Transfers of token:"),r.a.createElement(Er.a,{fluid:!0,search:!0,selection:!0,options:t,onChange:a,value:n})))),r.a.createElement(Ca.a.Column,{width:8},r.a.createElement(Vr.a,null,r.a.createElement(Vr.a.Field,{inline:!0},r.a.createElement("label",null,"To/From Account:"),r.a.createElement(Er.a,{fluid:!0,search:!0,selection:!0,options:o,onChange:l,value:c})))))))}}]),t}(a.Component);ro.defaultProps={};var oo=Object(p.b)((function(e){var t=e.tokens.selector.selectedTokenId,n=e.tokens.trackedIds.map((function(t){return{key:t,value:t,text:e.tokens.byId[t].name+" ("+e.tokens.byId[t].symbol+")"}}));n.sort((function(e,t){return e.text>t.text}));var a=e.addresses.selector.selectedAddressId,r=e.addresses.allIds.map((function(t){return{key:t,value:t,text:e.addresses.byId[t].ensName?e.addresses.byId[t].ensName:t}}));return r.sort((function(e,t){return e.text>t.text})),{tokenOptions:n,selectedTokenId:t,addressOptions:r,selectedAddressId:a}}),(function(e){return{onTokenSelect:function(t,n){var a=n.value;e(Ae(a))},onAddressSelect:function(t,n){var a=n.value;e(mn(a))}}}))(ro),co=function(e){var t=e.loading,n=e.loadingFromBlock,a=e.loadingToBlock,o=e.resultCount,c=e.resultFromBlock,l=e.currentChunk,s=e.maxChunks,i=e.resultToBlock,u=e.onLoadMore,d=e.canLoadMore,p=r.a.createElement(Ma.a,{icon:!0,disabled:!d,onClick:u,labelPosition:"left"},r.a.createElement(gr.a,{name:"search"}),"Load more");return t&&(p=r.a.createElement(or.a,{warning:!0,icon:!0},r.a.createElement(gr.a,{loading:!0,name:"circle notched"}),r.a.createElement(or.a.Content,null,r.a.createElement(or.a.Header,null,"Loading events"),"Scanning ",n," - ",a," - Chunk ",l,"/",s))),r.a.createElement(Ca.a,{verticalAlign:"middle",columns:2},r.a.createElement(Ca.a.Row,null,r.a.createElement(Ca.a.Column,null,r.a.createElement(or.a,{info:!0,icon:!0},r.a.createElement(gr.a,{name:"exchange"}),r.a.createElement(or.a.Content,null,r.a.createElement(or.a.Header,null,"Showing ",o," transfer events"),"Block ",c," to ",i))),r.a.createElement(Ca.a.Column,null,p)))};co.defaultProps={};var lo=co,so=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).loadMoreEvents=a.loadMoreEvents.bind(Object(Va.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){t.checkEventsLoaded(this.props)}},{key:"componentWillReceiveProps",value:function(e){t.checkEventsLoaded(e)}},{key:"loadMoreEvents",value:function(){var e=this.props.resultFromBlock?this.props.resultFromBlock:this.props.currentBlock,t=e-1e4;console.log("Loading events "+t+"-"+e),this.props.loadTokenTransferEvents(t,e,this.props.tokenId,this.props.addressId)}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.resultCount,a=e.resultFromBlock,o=e.resultFromBlockDate,c=e.resultToBlock,l=e.canLoadMore,s=e.loadingFromBlock,i=e.loadingToBlock,u=e.loadingCurrentBlock,d=e.currentChunk,p=e.maxChunks;return r.a.createElement(lo,{loading:t,resultCount:n,resultFromBlock:a,resultFromBlockDate:o,resultToBlock:c,onLoadMore:this.loadMoreEvents,loadingFromBlock:s,loadingToBlock:i,loadingCurrentBlock:u,currentChunk:d,maxChunks:p,canLoadMore:l})}}],[{key:"checkEventsLoaded",value:function(e){e.currentBlock&&e.aceId&&!1===e.hasAceEntry&&(console.log("Loading events "),e.loadTokenTransferEvents(0,0,e.tokenId,e.addressId))}}]),t}(a.Component);so.defaultProps={};var io=Object(p.b)((function(e){var t=0,n=!1,a=0,r=0,o=void 0,c=void 0,l=0,s=0,i=0,u=e.tokens.selector.selectedTokenId;-1!==e.tokens.allIds.indexOf(u)&&-1!==e.tokens.trackedIds.indexOf(u)||(u=void 0);var d=e.addresses.selector.selectedAddressId,p=e.web3Instance.block.number,m=e.events.listState.currentChunk,f=e.events.listState.maxChunks,h=Boolean(u&&d);return u&&d&&(o=Z(d,u),(c=e.events.aceById[o])&&(a=c.firstBlock,r=c.lastBlock,t=c.eventIds.length,n=c.isLoading,l=c.loadingFromBlock,s=c.loadingToBlock,i=c.loadingCurrentBlock)),{loading:n,resultCount:t,resultFromBlock:a,resultFromBlockDate:"XXX",resultToBlock:r,currentBlock:p,tokenId:u,addressId:d,aceId:o,hasAceEntry:Boolean(c),loadingToBlock:s,loadingFromBlock:l,loadingCurrentBlock:i,currentChunk:m,maxChunks:f,canLoadMore:h}}),(function(e){return{loadTokenTransferEvents:function(t,n,a,r){var o,c,l,s;e((o=a,c=t,l=n,s=[r],function(){var e=Object(E.a)(v.a.mark((function e(t,n){var a,r,i,u,d,p,m,f;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o!==fe){e.next=2;break}return e.abrupt("return");case 2:return a=new w.a,r=new w.a,0===c&&(c=n().web3Instance.block.number-2400),0===l&&(l=n().web3Instance.block.number),t(le(s,o,!0,c,l,c)),e.next=9,qe(o,t,n);case 9:return i=n().tokens.volatileById[o].contractInstance,u=0,p={contract:i,eventName:"Transfer",fromBlock:c,toBlock:l,filter:{_from:s},progressCallback:d=function(e){var n=e.stepsComplete,a=e.totalSteps,r=e.stepResults,c=e.stepFromBlock,l=e.stepToBlock;u+=r.length,t(ce({tokenID:o,addresses:s,numEvents:u,currentChunk:n,maxEvents:50,maxChunks:a,stepFromBlock:c,stepToBlock:l,state:"scanning"})),r.length&&t(se(r,o)),t(ae(s,o,c,l))}},m={contract:i,eventName:"Transfer",fromBlock:c,toBlock:l,filter:{_to:s},progressCallback:d},t(ce({tokenID:o,addresses:s,numEvents:0,currentChunk:0,maxEvents:50,maxChunks:0,fromBlock:c,toBlock:l,state:"scanning"})),(f=[]).push(r.fetch(p)),f.push(a.fetch(m)),e.next=21,Promise.all(f);case 21:t(te(s,o,!1,0,0,0));case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}}}))(so),uo=function(e){var t=e.txHash,n=t.slice(0,10).concat("..."),a=r.a.createElement("span",null,n);return r.a.createElement(Ka.a,{trigger:a,content:t})},po="neutral",mo="postivie",fo="negative",ho=function(e){var t=e.txHash,n=e.blockNumber,a=e.from,o=e.fromENS,c=e.to,l=e.toENS,s=e.type,i=e.decimals,u=e.quantity,d=null,p=!1,m=!1;switch(s){case mo:d=r.a.createElement(gr.a,{name:"plus",color:"green",circular:!0}),p=!0;break;case fo:d=r.a.createElement(gr.a,{name:"minus",color:"red",circular:!0}),m=!0}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.Cell,{textAlign:"right"},"#: "),r.a.createElement(Ha.a.Cell,null,r.a.createElement("strong",null,n)),r.a.createElement(Ha.a.Cell,{textAlign:"right"},"From: "),r.a.createElement(Ha.a.Cell,null,r.a.createElement(Ya,{address:a,ensName:o})),r.a.createElement(Ha.a.Cell,{rowSpan:"2",textAlign:"right"},d),r.a.createElement(Ha.a.Cell,{rowSpan:"2",positive:p,negative:m,textAlign:"right"},r.a.createElement(qa,{amount:u,numDecimals:i}))),r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.Cell,{textAlign:"right"},"Tx: "),r.a.createElement(Ha.a.Cell,null,r.a.createElement("strong",null,r.a.createElement(uo,{txHash:t}))),r.a.createElement(Ha.a.Cell,{textAlign:"right"},"To: "),r.a.createElement(Ha.a.Cell,null,r.a.createElement(Ya,{address:c,ensName:l}))))};ho.defaultProps={};var bo=ho,vo=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.txHash,n=e.blockNumber,a=e.from,o=e.to,c=e.type,l=e.quantity,s=e.positive,i=e.negative,u=e.decimals;return r.a.createElement(bo,{blockNumber:n,from:a,to:o,quantity:l,txHash:t,type:c,positive:s,negative:i,decimals:u})}}]),t}(a.PureComponent);vo.defaultProps={};var Eo=Object(p.b)((function(e,t){var n=e.events.byId[t.transferEventId],a=e.addresses.selector.selectedAddressId,r=n.transferEvent,o=e.tokens.byId[n.tokenId],c=r.args._value,l=r.args._from.toLowerCase(),s=r.args._to.toLowerCase(),i=po;return a&&(i=a.toLowerCase()===l?fo:mo),{txHash:r.transactionHash,blockNumber:r.blockNumber,from:l,to:s,type:i,quantity:c,decimals:o.decimals}}))(vo),ko=function(e){return r.a.createElement(Ha.a,{compact:!0},r.a.createElement(Ha.a.Header,null,r.a.createElement(Ha.a.Row,null,r.a.createElement(Ha.a.HeaderCell,{colSpan:"2",textAlign:"center"},"Block#/TransactionHash"),r.a.createElement(Ha.a.HeaderCell,{colSpan:"2",textAlign:"center"},"From/To"),r.a.createElement(Ha.a.HeaderCell,{colSpan:"2",textAlign:"right"},"Quantity"))),r.a.createElement(Ha.a.Body,null,e.transferEventIds.map((function(e){return r.a.createElement(Eo,{key:e,transferEventId:e})}))))};ko.defaultProps={};var go=ko,yo=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).handlePaginationChange=a.handlePaginationChange.bind(Object(Va.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handlePaginationChange",value:function(e,t){var n=t.activePage;this.props.setTransferEventListPage(n)}},{key:"render",value:function(){var e=this.props,t=e.aceEventIds,n=e.totalPages,a=e.activePage,o=null;return n>1&&(o=r.a.createElement(ka.a,{textAlign:"center"},r.a.createElement(Jr.a,{activePage:a,onPageChange:this.handlePaginationChange,totalPages:n}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(go,{transferEventIds:t}),o)}}]),t}(a.Component);yo.defaultProps={};var Oo=Object(p.b)((function(e){var t=e.tokens.selector.selectedTokenId,n=e.addresses.selector.selectedAddressId,a=e.events.listState.activePage,r=1,o=void 0,c=[];if(t&&n){var l=Z(n,t);o=e.events.aceById[l]}if(o){c=o.eventIds,r=Math.ceil(c.length/15);var s=15*(a-1);c=c.slice(s,s+15)}return{aceEventIds:c,activePage:a,totalPages:r}}),(function(e){return{setTransferEventListPage:function(t){e(function(e){return{type:X,payload:{activePage:e}}}(t))}}}))(yo),Io=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_a,{title:"Transfer Events"}),r.a.createElement(oo,null),r.a.createElement(io,null),r.a.createElement(Oo,null))},wo=function(e){function t(e,n){var a;return Object(l.a)(this,t),a=Object(i.a)(this,Object(u.a)(t).call(this,e,n)),t.mapRouteParamsToState(e),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){t.mapRouteParamsToState(e)}},{key:"render",value:function(){return r.a.createElement(Io,null)}}],[{key:"mapRouteParamsToState",value:function(e){e.match.params.tokenId&&(e.setSelectedToken(e.match.params.tokenId),e.match.params.address?e.setSelectedAddress(e.match.params.address):e.setSelectedAddress(void 0))}}]),t}(a.Component);wo.defaultProps={};var jo=Object(p.b)((function(e){return{}}),(function(e){return{setSelectedToken:function(t){e(Ae(t))},setSelectedAddress:function(t){e(mn(t))}}}))(wo),Co=n(268),So=function(e){var t=e.networkId,n=e.networkName;return r.a.createElement(or.a,{size:"small",icon:!0,warning:!0},r.a.createElement(gr.a,{name:"warning"}),r.a.createElement(or.a.Content,null,r.a.createElement(or.a.Header,null,"You are not connected to mainnet!"),"Your current network: ",n," (ID: ",t,")"))},To=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.networkId,n=e.networkName;return 1===t?null:r.a.createElement(Ca.a.Row,null,r.a.createElement(So,{networkId:t,networkName:n}))}}]),t}(a.Component),Ao=Object(Co.a)((function(e){return{networkId:e.web3Instance.id,networkName:e.web3Instance.name}}))(To),No=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Ca.a,{padded:"vertically"},r.a.createElement(Ao,null),r.a.createElement(Ca.a.Row,null,r.a.createElement(Ca.a.Column,{width:4},r.a.createElement(Rr,null)),r.a.createElement(Ca.a.Column,{width:12},r.a.createElement(Br.c,null,r.a.createElement(Br.a,{exact:!0,path:"/",component:Ar}),r.a.createElement(Br.a,{exact:!0,path:"/overview/",component:Ar}),r.a.createElement(Br.a,{path:"/accounts/",component:Zr}),r.a.createElement(Br.a,{path:"/events/:tokenId/:address",component:jo}),r.a.createElement(Br.a,{path:"/events/:tokenId/",component:jo}),r.a.createElement(Br.a,{path:"/events/",component:jo}),r.a.createElement(Br.a,{path:"/tokenContracts/",component:ao}),r.a.createElement(Br.a,{component:function(e){var t=e.location;return r.a.createElement("div",null,r.a.createElement("h3",null,"No match for ",r.a.createElement("code",null,t.pathname)))}})))),r.a.createElement(Ca.a.Row,null,r.a.createElement(Ca.a.Column,{width:16},r.a.createElement(Dr,null))))}}]),t}(a.Component),Po=function(e){var t=e.content;return r.a.createElement(ga.a,{open:!0},r.a.createElement(ya.a,null,r.a.createElement(gr.a,{loading:!0,name:"spinner"}),r.a.createElement(ya.a.Content,null,t)))};Po.defaultProps={};var Do=Po,Bo=function(e){function t(e,n){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e,n))).tokenListUrl="/tokens_1.json",a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.listState===be.VIRGIN&&this.loadTokenList(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.listState===be.VIRGIN&&this.loadTokenList(e)}},{key:"loadTokenList",value:function(e){if(e.networkId>=1){var t="/tokens_"+e.networkId+".json";e.loadTokenList(t)}}},{key:"render",value:function(){return this.props.listState===be.INITIALIZED?a.Children.only(this.props.children):r.a.createElement(Do,{content:"Loading token contracts"})}}]),t}(a.Component),Lo=Object(p.b)((function(e){return{listState:e.tokens.listState.listState,networkId:e.web3Instance.id}}),(function(e){return{loadTokenList:function(t){e(function(e){return function(){var t=Object(E.a)(v.a.mark((function t(n,a){var r,o,c,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Be()),n(Ee(be.LOADING)),t.next=4,fetch(e);case 4:return r=t.sent,t.next=7,r.json();case 7:(o=t.sent).push(he),o.sort((function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:1})),n((s=o.length,{type:Le,payload:{count:s}})),o.forEach((function(e){var t=ze(e);n(ge(t.address,t))})),a().tokens.listState.filterIsActive&&n(Me({})),c=a().tokens.allIds,(l=a().tokens.trackedIds.filter((function(e){return c.indexOf(e)>-1}))).length&&a().addresses.allIds.forEach((function(e){n(Ue(l,e))})),a().tokens.trackedIds.filter((function(e){return-1===l.indexOf(e)})).forEach((function(e){n(Fe(e,!1))})),n(Ee(be.INITIALIZED));case 19:case"end":return t.stop()}var s}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(t))}}}))(Bo),Ro=function(e){var t=e.state,n=e.onRetry,o=e.children;switch(t){case Tt.INITIALIZED:return a.Children.only(o);case Tt.ERROR:return r.a.createElement(ga.a,{open:!0},r.a.createElement(ga.a.Header,null,r.a.createElement(gr.a,{name:"exclamation"})," No web3 found"),r.a.createElement(ga.a.Content,null,r.a.createElement("p",null,"Failed to initialize web3. Please enable web3 in your browser, e.g by using the Metamask extension."),r.a.createElement("p",null,r.a.createElement(Ma.a,{onClick:n},"Retry"))));case Tt.LOADING:default:return r.a.createElement(Do,{content:"Waiting on web3 initialization"})}},xo=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onRetry=function(){n.props.initialize()},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.initialize()}},{key:"componentWillUnmount",value:function(){this.props.stopBlockFilter()}},{key:"render",value:function(){var e=this.props,t=e.state,n=e.children;return r.a.createElement(Ro,{state:t,onRetry:this.onRetry,children:n})}}]),t}(a.Component),_o=Object(p.b)((function(e){return{state:e.web3Instance.state}}),(function(e){return{initialize:function(){e(function(){var e=Object(E.a)(v.a.mark((function e(t,n){var a,r,o,c,l,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Kt()),t(Pt(Tt.LOADING)),e.prev=2,e.next=5,St;case 5:a=e.sent,r=a.web3,t(Pt(Tt.INITIALIZED)),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(2),console.log("Error getting web3: "+e.t0),t(Pt(Tt.ERROR)),e.abrupt("return");case 15:return t(Rt(r)),window.ethereum?(window.ethereum.autoRefreshOnNetworkChange=!1,window.ethereum.on("networkChanged",(function(e){e=parseInt(e),console.log("Network changed to "+e);var a=Wt(e),r=n().web3Instance.id;t(Gt(e,a,r)),t(Be())}))):setInterval(Object(E.a)(v.a.mark((function e(){var a,o,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.eth.net.getId();case 2:a=e.sent,(o=n().web3Instance.id)!==a&&(c=Wt(a),t(Gt(a,c,o)),t(Be()));case 5:case"end":return e.stop()}}),e)}))),1e3),e.next=19,r.eth.getNodeInfo();case 19:return o=e.sent,t(Ht(o)),e.next=23,r.eth.net.getId();case 23:return c=e.sent,l=Wt(c),t(Gt(c,l,void 0)),e.next=28,r.eth.getBlock("latest");case 28:s=e.sent,t(_t(s)),i=r.eth.subscribe("newBlockHeaders").on("data",(function(e){t(_t(e))})).on("error",(function(e){console.log(e)})),t(zt(i));case 32:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}())},stopBlockFilter:function(){e(Kt())}}}))(xo),Fo=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.knownTokens,n=me(ie,[]).filter((function(e){return t.indexOf(e)>=0}));n.forEach((function(t){e.props.changeTokenTracking(t)}));var a=me(ue,null);a&&t.indexOf(a)>=0&&this.props.changeSelectorTokenId(a),me(de,[]).forEach((function(t){e.props.addAddress(t.address,t.ensName),e.props.loadMultiTokenBalances(n,t.address)}))}},{key:"render",value:function(){return a.Children.only(this.props.children)}}]),t}(a.Component),Go=Object(p.b)((function(e){return{knownTokens:e.tokens.allIds}}),(function(e){return{changeTokenTracking:function(t){e(Fe(t,!0))},changeSelectorTokenId:function(t){e(Pe(t))},addAddress:function(t,n){e(on(t,n,en))},loadMultiTokenBalances:function(t,n){e(Ue(t,n))}}}))(Fo),Vo={store:Object(f.createStore)(ba,Ea(Object(f.applyMiddleware)(Qt.a,va)))}.store,Ho=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:Vo},r.a.createElement(_o,null,r.a.createElement(Lo,null,r.a.createElement(Go,null,r.a.createElement(m.a,null,r.a.createElement(ka.a,null,r.a.createElement(Ra,null),r.a.createElement(No,null)))))))}}]),t}(a.Component),Mo=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function zo(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(Ho,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");Mo?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):zo(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):zo(e)}))}}()},549:function(e,t,n){e.exports=n(1027)},617:function(e,t){},625:function(e,t){},641:function(e,t){},643:function(e,t){},668:function(e,t){},710:function(e,t){},712:function(e,t){},713:function(e,t){},719:function(e,t){},722:function(e,t){},742:function(e,t){},745:function(e,t){},761:function(e,t){},764:function(e,t){},767:function(e,t){},786:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=786},832:function(e,t){},851:function(e,t){},862:function(e,t){}},[[549,1,2]]]);
//# sourceMappingURL=main.badd94ec.chunk.js.map